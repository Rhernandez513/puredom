/*! puredom light 1.9.1 */
!function(a,b){function c(){}function d(a){a.stopPropagation&&a.stopPropagation();try{a.cancelBubble&&a.cancelBubble.call?a.cancelBubble():a.cancelBubble=!0}catch(b){}}function e(a){var b=a,c=s[a];return c?c:(j&&a.substring(0,j.length)!==j&&(c=j+a.charAt(0).toUpperCase()+a.substring(1),c in f.body.style&&(b=c)),s[a]=b,b)}"object"==typeof process&&process.argv&&"node"===process.argv[0]&&(a=require("jsdom").jsdom().parentWindow);var f=a.document,g=a.navigator,h=a.puredom;"function"!=typeof Date.now&&(Date.now=function(){return(new Date).getTime()});var i,j,k,l,m=function(){return q.puredom.apply(q,arguments)},n={version:"1.9.1",templateAttributeName:"data-tpl-id",baseAnimationInterval:20,allowCssTransitions:!0,easingMethods:{ease:function(a){return(Math.sin(a*Math.PI-Math.PI/2)+1)/2},"ease-in-out":function(a){return this.ease(a)}}},o=!1,p=n.constructor,q={oninit:[],animationTimes:{fast:150,medium:450,slow:1e3},animationTimeScale:1,registeredEventCount:0,html5elements:"abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" "),support:{html5:!0,filters:!1,querySelectorAll:"querySelectorAll"in f,webkitMultitouch:"ontouchstart"in a&&0!==g.maxTouchPoints&&0!==g.msMaxTouchPoints},regex:{css3AutoPrefix:/([\s\;\/\*])(transform|transition|perspective|box\-sizing|box\-shadow|border\-radius)\:([^\;]*)(\;|$)/gim,css3VendorPrefix:/\b\-(moz|webkit|ms|o|vendor)\-/gim,templateFieldToken:/([^\\]?)\{([a-z0-9A-Z\$_\.]+)(\|[^\}]*?)?\}/gm,parseObjectNameFromString:/^\[object ([^\s]+)\]$/gim,autoDetectHTMLContent:/(<[a-z]|&[a-z#0-9]{1,10};)/gim,whitespaceCharacters:/\s/,getNumericCSSValue:/[^0-9\.\-]/gm,getCSSValueUnits:/([a-z]+|%)$/,getNonIntegerCharsSigned:/[^0-9\.\-]/gm,getUpperCaseAlphaChars:/[A-Z]/gm}};if(m.support=q.support,g.userAgent.match(/\b(webkit|applewebkit|chrome|chromium|khtml)\b/gim)?(i="-webkit",j="Webkit"):g.userAgent.match(/\bopera\b/gim)?(i="-o",j="O"):g.userAgent.match(/\bgecko\b/gim)?(i="-moz",j="Moz"):g.userAgent.match(/\bmsie\s*?(8|9|[1-9][0-9]+)\b/gim)?(i="-ms",j="Ms"):g.userAgent.match(/\bmsie\s*?[4-8]\b/gim)&&(q.support.filters=!0,q.support.filterProperty="filter"),function(a,b){if(a=f.createElement("div"),a.innerHTML="<nav></nav>",q.support.html5=a.childNodes.length>0,!q.support.html5){for(q.html5frag=f.createDocumentFragment(),b=q.html5elements.length;b--;)q.html5frag.createElement(q.html5elements[b]);q.html5div=f.createElement("div"),q.html5frag.appendChild(q.html5div)}}(),l=function(){var a=f.body;return k=void 0!==a.textContent&&"textContent"||a.innerText&&"innerText"||"innerHTML",l=null,k},m.extend=function(a){var b,c,d;for(a=a||{},b=1;b<arguments.length;b++)if(d=arguments[b]){for(c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);"function"==typeof d.toString&&d.toString!==Object.prototype.toString&&(a.toString=d.toString)}return a},m.mixin=function(a){var b,c,d,e=Array.prototype.slice.call(arguments,1);for(a===!0&&(a=e.pop()),a=a||{},b=0;b<e.length;b++)if(d=e[b])for(c in d)d.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=d[c]);return a},m.strip=function(a,b){for(var c in a)(b===!0||a.hasOwnProperty(c))&&(a[c]=null)},m.delve=function(a,b,c,d){var e=0;if("."===b||"this"===b&&!a.hasOwnProperty("this"))return a;for(b=b.split("."),c===!0&&b.splice(0,1);e<b.length&&a&&a.hasOwnProperty(b[e]);)a=a[b[e]],e+=1;return e>=b.length||d===!0&&e>0?a:void 0},m.flattenObj=function(a,b,c,d){var e,f;b=b||"",c=c||0,d=d||{};for(e in a)a.hasOwnProperty(e)&&(f=b?b+"_"+e:e,m.isScalar(a[e])?d[f]=a[e]:m.flattenObj(a[e],f,c+1,d));return c?void 0:d},m.template=function(a,b,c){var d,e;return c!==!1&&m.i18n&&(e=m.i18n),d=(a+"").replace(q.regex.templateFieldToken,function(a,c,d,f){var g;return"\\"!==c&&d?(g=m.delve(b,d),g?(e&&(g=e(g)||g),f&&"|"===f.substring(0,1)&&(g=m.text.filter(g,f.substring(1))),a=c+g):a=c):a=c,a})},m.inherits=function(a,b){function c(){}c.prototype=b.prototype;var d=a.prototype;a.prototype=new c,puredom.extend(a.prototype,d),a.prototype.constructor=a,a.prototype.__super=b},m.typeOf=function(a){if(void 0===a)return"undefined";if(null===a)return"null";if(a){if(a.constructor===p)return"object";if(m.isArray(a))return"array"}return Object.prototype.toString.call(a).replace(q.regex.parseObjectNameFromString,"$1").toLowerCase()},m.isScalar=function(a){var b=m.typeOf(a);return"undefined"===b||"null"===b||"number"===b||"string"===b||"boolean"===b?!0:!1},!Array.prototype.indexOf||0!==[m].indexOf(m))try{Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}}catch(r){}m.toArray=function(a){var b,c=[],d=a&&a.length;if(d||0===d)for(b=d;b--;)c[b]=a[b];else for(b=0;;){if(a.hasOwnProperty&&a.hasOwnProperty(b))c.push(a[b]);else{if(!a.hasOwnProperty||!a.hasOwnProperty(b+""))break;c.push(a[b+""])}b+=1}return c},m.isArray=Array.isArray?function(a){return Array.isArray(a)}:function(a){return"[object Array]"===Object.prototype.toString.call(a)},m.hasOwnProp=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},m.forEach=function(a,b){var c,d;if(m.isArray(a))for(c=0;c<a.length&&(d=b(a[c],c),d!==!1);c++);else for(c in a)if(a.hasOwnProperty(c)&&(d=b(a[c],c),d===!1))break;return a},m.foreach=m.forEach,m.setInnerHTML=function(a,b){var c,d;if(q.support.html5)a.innerHTML=b||"";else{for(a.innerHTML="",q.html5div.innerHTML=b||"",c=f.createDocumentFragment(),d=q.html5div.childNodes.length;d--;)c.appendChild(q.html5div.firstChild);a.appendChild(c)}},m.createElement=function(a,b){var c,d,e,g,h;if("string"==typeof a){for(g=f.createElement("div"),g.innerHTML=a,e=0;e<g.childNodes.length;e++)c=g.childNodes[e],1===c.nodeType&&b&&b.appendChild(c);return c}a=a||{},c=f.createElement(a.type||"div"),b=b||a.parent,a.insertBefore&&a.insertBefore.constructor===m.NodeSelection&&(a.insertBefore=a.insertBefore._nodes[0]),!b&&a.insertBefore&&(b=a.insertBefore.parentNode);for(d in a)if(m.hasOwnProp(a,d))if("on"===(d+"").substring(0,2).toLowerCase())m.addEvent(c,d.substring(2),a[d]);else if("css"===d||"cssText"===d)i?(a[d]=a[d].replace(q.regex.css3AutoPrefix,"$1"+i+"-$2:$3; $2:$3;"),a[d]=a[d].replace(q.regex.css3VendorPrefix,"-"+i+"-"),c.style.cssText=a[d]):c.style.cssText=a[d];else if("html"===d||"innerHTML"===d)m.setInnerHTML(c,a[d]);else if("attributes"===d)for(e in a[d])m.hasOwnProp(a[d],e)&&c.setAttribute(e,a[d][e]);else if("parent"!==d&&"children"!==d&&"insertBefore"!==d&&"type"!==d&&"children"!==d&&"html"!==d&&"innerHTML"!==d)if(f.all)try{c[d]=a[d]}catch(j){m.log(d)}else c[d]=a[d];if(b){if(a.insertBefore)try{b.insertBefore(c,a.insertBefore),h=!0}catch(j){h=!1}h||b.appendChild(c)}if(a.children&&m.isArray(a.children)){for(g=f.createDocumentFragment(),d=0;d<a.children.length;d++)m.createElement(a.children[d],g);c.appendChild(g)}return c},m.NodeSelection=function t(a){var b;if(this._results=[],this._animations=[],a)if(m.isArray(a))for(this._nodes=a=a.slice(),b=a.length;b--;)a[b]?a[b]instanceof t&&(a=a.concat(a.splice(b,1)[0]._nodes)):a.splice(b,1);else this._nodes=[a];else this._nodes=[]},m.extend(m.NodeSelection.prototype,{_results:[],_nodes:[],_animations:[],describe:function(){var a=[];return this.each(function(b){var c="<"+b.nodeName(),d=b.prop("id"),e=b.prop("className");d&&(c+=' id="'+d+'"'),e&&(c+=' class="'+e+'"'),c+=">",c+=1===b._nodes[0].childNodes.length&&3===b._nodes[0].childNodes[0].nodeType?b.text().replace(/(\r|\n)/gim,decodeURIComponent("%E2%86%A9")).replace(/\t/gim,decodeURIComponent("%E2%86%92")):"["+b.children().count()+" children]",c+="</"+b.nodeName()+">",a.push(c)}),a},toString:function(){return this.describe().join(", ")},toSource:function(){return this._nodes},getResult:function(a){return a=Math.round(a)||0,this._results[this._results.length-a-1]},pushResult:function(a){return this._results.push(a),this},each:function(a){return this._each(a,!0)},_each:function(a,b,c){var d,e,f,g,h=this._nodes.slice(0,this._nodes.length);for(d=0;d<h.length&&(e=d,c===!0&&(e=h.length-e-1),f=h[e],b===!0&&(f=new m.NodeSelection(f)),g=a.call(this,f,e),g!==!1);d++);return this},wait:function(a,b){var c=this;return b&&setTimeout(function(){b.apply(c),c=b=null},Math.abs(a)),this},nodeName:function(){var b=this._nodes[0],c=b&&b.nodeName&&b.nodeName.toLowerCase();return b===a?"#window":c?c:null},uuid:function(){return this._nodes[0]&&q.nodeToId(this._nodes[0])||null},text:function(a){return 0===arguments.length?this._nodes[0]&&this._nodes[0][k||l()]||"":(a+="",this._each(function(b){b[k||l()]=a}),this)},html:function(a,b){return 0===arguments.length?this._nodes[0]&&this._nodes[0].innerHTML||"":(a+="",q.regex.autoDetectHTMLContent.lastIndex=0,this._each(q.regex.autoDetectHTMLContent.test(a)&&b!==!0?function(b){m.setInnerHTML(b,a)}:function(b){b[k||l()]=a}),this)},css:function(a,b,d){var e,f=this;if(b=b||{},("string"==typeof b||"number"==typeof b)&&(b={tween:b}),!d&&b.callback&&(d=b.callback),d&&d.call||(d=c),e=m.typeOf(b.tween),"string"==typeof a&&(a=q.parseCSS(a)),"string"===e&&"none"!==b.tween||"number"===e&&b.tween>0){var g,h,i=(b.tween+"").replace(q.regex.whitespaceCharacters,"").split(","),j=0,k=0;h=function(a){k+=1,k>=j&&(h=null,d&&d.call(f,f),f=d=a=null)};for(g in a)a.hasOwnProperty(g)&&(j+=1,this.animateCss(g,a[g],i[0],i[1],h))}else this._each(function(b){m.applyCss(b,a)}),d?setTimeout(function(){d.call(f,f),f=d=null},1):f=null;return this},show:function(){return this.css({display:"",visibility:"visible"}),this._each(function(a){("none"===a.style.display||"none"===m.nodeStyle(a,"display"))&&(a.style.display="block")}),this},hide:function(a){return this.css(a===!1?{visibility:"hidden"}:{display:"none"})},fadeIn:function(a,b){var c=parseFloat(this.getStyle("opacity")||"0")||0,d=1;return("none"===this.getStyle("display")||"hidden"===this.getStyle("visibility"))&&(this.getStyle("opacity")&&c>0&&1>c&&(d=c),c=0,this.css({opacity:0})),"function"===m.typeOf(a)&&(b=a,a=arguments[1]),c>=1||0===a||a===!1?(this.css({opacity:d}).show(),b&&b.call&&setTimeout(b,0),this):(this.css({opacity:d},{tween:a||"medium",callback:function(c){b&&b(c),a=b=null}}).show(),this)},fadeOut:function(a,b,c){var d=parseFloat(this.getStyle("opacity")||"1")||1;return"function"===m.typeOf(a)&&(b=a,a=arguments[1]),"boolean"===m.typeOf(b)&&(c=b,b=null,"function"===m.typeOf(arguments[2])&&(b=arguments[2])),0>=d||"none"===this.getStyle("display")||"hidden"===this.getStyle("visibility")||0===a||a===!1?(this.css({opacity:0}).hide(c),setTimeout(b,0),this):(this.css({opacity:0},{tween:a||"medium",callback:function(e){e.hide(c).css({opacity:d}),b&&b(e),a=b=null}}),this)},animateCSS:function(){var a,b,c,d;return a=function(a,b,c,d,e){var f,g,h,i=[],j=[];return a=a.toLowerCase(),"auto"!==b?(f=parseFloat((b+"").replace(q.regex.getNumericCSSValue,""))||0,h="string"===m.typeOf(b)&&b.match(q.regex.getCSSValueUnits),g=h&&h[0]||"px","opacity"===a&&(g="")):g="opacity"===a?"":"px",this._each(function(c,d){var e,h,k,l,n={};i[d]=parseFloat((m.nodeStyle(c,a)+"").replace(q.regex.getNonIntegerCharsSigned,""))||0,"auto"===b||""===b?(l=c.style.visibility||"",n[a]=b,n.visibility="hidden",m.applyCss(c,n),e=m.nodeStyle(c,a),(e===b||e.indexOf("px")<e.length-3)&&(k=a.substring(0,1).toUpperCase()+a.substring(1).toLowerCase(),e=c["offset"+k]+"px"),h="string"===m.typeOf(e)&&e.match(q.regex.getCSSValueUnits),j[d]={_actualTarget:b,numericTargetValue:parseFloat((e+"").replace(q.regex.getNumericCSSValue,""))||0,units:"opacity"===a?"":h&&h[0]||"px"},setTimeout(function(){c.style.visibility=l,c=null},51),n=e=h=null):j[d]={numericTargetValue:f,units:g}}),this.animate(function(b){this._each(function(c,d){var e,f={},g=b*(j[d].numericTargetValue-i[d])+i[d],h=j[d].units;"px"===h?g=Math.round(g):(e=parseFloat(g),g=e%1===0?Math.round(e):e.toFixed(2)),f[a]=g+h,m.applyCss(c,f)})},c,d,function(b){b._each(function(b,c){var d={};j[c]._actualTarget&&(d[a]=j[c]._actualTarget,m.applyCss(b,d))}),e.apply(b,arguments)})},b=function(a,b,c,d,e){var f=this._createAnimationObj(function(){},c,d,e),g=this,h={},i={};a=m.getStyleAsProperty(a),"number"===m.typeOf(b)&&"opacity"!==(a+"").toLowerCase()&&(b+="px"),h[m.getStyleAsCSS(a)]={duration:f.duration,timingFunction:f.easing},i[a]=b,setTimeout(function(){g._each(function(a){m.updateCssTransitions(a,h),m.applyCss(a,i),q.incrementAnimationCount(a)}),f._cb=function(){if(f){var b={};b[a]=null,g._each(function(a){m.updateCssTransitions(a,b),q.decrementAnimationCount(a)}),f.callback&&f.callback.call(g,g);for(var c in f)if(f.hasOwnProperty(c))try{delete f[c]}catch(d){}}f=i=e=g=null},setTimeout(f._cb,(parseInt(f.duration,10)||0)+20)},10)},d=function(){return c=void 0!==f.body.style[j+"Transition"]||void 0!==f.body.style.transition},function(){var e=!1;return"boolean"!==m.typeOf(c)&&d(),m.allowCssTransitions===!1&&e!==!0||!c?a.apply(this,arguments):b.apply(this,arguments),this}}(),animate:function(a){if(a){var b,c=this,d=this._createAnimationObj.apply(this,arguments);this._each(function(a){q.incrementAnimationCount(a)}),b=function(a){if(d.frameTime=a,d.position=d.frameTime-d.start,d.fraction=d.position/d.duration,d.position>=d.duration?(d.fraction=1,d.position=d.duration):d.easingMethod&&(d.fraction=d.easingMethod.call(m.easingMethods,d.fraction,d)),d.animator.call(c,d.fraction,d),1===d.fraction){for(var e=c._animations.length;e--;)if(c._animations[e]===d){c._animations.splice(e,1);break}d.callback&&setTimeout(function(){c._each(function(a){q.decrementAnimationCount(a)}),d.callback.call(c,c,d),c=d=null},10)}else d.timer=m.animationFrame.getTimer(b,m.baseAnimationInterval||10)},m.animationFrame.getTimer(b,m.baseAnimationInterval||10),this._animations.push(d)}return this},_createAnimationObj:function(a,b,c,d){var e={animator:a,duration:b,easing:"string"===m.typeOf(c)?c:"ease",callback:d,start:m.animationFrame.getStartTime(),frameTime:null};if("string"===m.typeOf(e.duration))switch(e.duration.toLowerCase()){case"long":case"slow":e.duration=q.animationTimes.slow;break;case"short":case"fast":e.duration=q.animationTimes.fast;break;default:e.duration=parseInt(e.duration,10)||q.animationTimes.medium}else e.duration=Math.round(e.duration)||q.animationTimes.medium;return q.animationTimeScale&&(e.duration*=q.animationTimeScale),e.easing&&m.easingMethods.hasOwnProperty(e.easing)?e.easingMethod=m.easingMethods[e.easing]:e.easing=null,e},classify:function(a){var b=m.isArray(a)?a:m.toArray(arguments);return this._each(function(a){m.addClass(a,b)}),this},declassify:function(a){var b=m.isArray(a)?a:m.toArray(arguments);return this._each(function(a){m.removeClass(a,b)}),this},hasClass:function(a,b){var c=b!==!0;return this._each(function(d){var e=d.classList?d.classList.contains(a):(" "+d.className+" ").indexOf(" "+a+" ")>-1;if(b===!0){if(e)return c=!0,!1}else e||(c=!1)}),c},setOpacity:function(a){return this._each(function(b){m.setOpacity(b,a)}),this},sumOf:function(a){var b=0,c=Array.prototype.slice.call(arguments,1);return this.constructor.prototype.hasOwnProperty(a)&&this._each(function(d){d=new m.NodeSelection(d),b+=d[a].apply(d,c)}),b},height:function(a,b){var c,d,e=0;return"object"!==m.typeOf(a)||b||(b=a,a=null),b=b||{},a||0===a?(a+="","auto"===a?c="":(d=/^([\-0-9\.]+)(.*?)$/.exec(a),a=Math.round(d&&d[1]||a)||0,c=d&&d[2]||"px"),this.css({height:a+c}),this):(this._each(function(a){e+=parseInt(a.offsetHeight,10)||0,b.border!==!0&&(e-=parseInt((m.nodeStyle(a,"border-top-width")+"").replace(q.regex.getNonIntegerCharsSigned,""),10)||0,e-=parseInt((m.nodeStyle(a,"border-bottom-width")+"").replace(q.regex.getNonIntegerCharsSigned,""),10)||0),b.margin===!0&&(e+=parseInt((m.nodeStyle(a,"margin-top")+"").replace(q.regex.getNonIntegerCharsSigned,""),10)||0,e+=parseInt((m.nodeStyle(a,"margin-bottom")+"").replace(q.regex.getNonIntegerCharsSigned,""),10)||0),b.padding===!1&&(e-=parseInt((m.nodeStyle(a,"padding-top")+"").replace(q.regex.getNonIntegerCharsSigned,""),10)||0,e-=parseInt((m.nodeStyle(a,"padding-bottom")+"").replace(q.regex.getNonIntegerCharsSigned,""),10)||0)}),e)},width:function(a,b){var c,d,e=0;return"object"!==m.typeOf(a)||b||(b=a,a=null),b=b||{},a||0===a?(a+="","auto"===a?c="":(d=/^([\-0-9\.]+)(.*?)$/.exec(a),a=d&&d[1]||a,c=d&&d[2]||"px"),this.css({width:a+c}),this):(this._each(function(a){e+=parseInt(a.offsetWidth,10)||0,b.border!==!0&&(e-=parseInt((m.nodeStyle(a,"border-left-width")+"").replace(q.regex.getNonIntegerCharsSigned,""),10)||0,e-=parseInt((m.nodeStyle(a,"border-right-width")+"").replace(q.regex.getNonIntegerCharsSigned,""),10)||0),b.margin===!0&&(e+=parseInt((m.nodeStyle(a,"margin-left")+"").replace(q.regex.getNonIntegerCharsSigned,""),10)||0,e+=parseInt((m.nodeStyle(a,"margin-right")+"").replace(q.regex.getNonIntegerCharsSigned,""),10)||0),b.padding===!1&&(e-=parseInt((m.nodeStyle(a,"padding-left")+"").replace(q.regex.getNonIntegerCharsSigned,""),10)||0,e-=parseInt((m.nodeStyle(a,"padding-right")+"").replace(q.regex.getNonIntegerCharsSigned,""),10)||0)}),e)},x:function(a){var b=this._nodes[0],c=null;if(b&&(c=b.offsetLeft,a===!0))for(;(b=b.parentNode)&&b!==f;)c+=parseFloat(b.offsetLeft)||0;return c},y:function(a){var b=this._nodes[0],c=null;if(b&&(c=b.offsetTop,a===!0))for(;(b=b.parentNode)&&b!==f;)c+=parseFloat(b.offsetTop)||0;return c},position:function(a,b,c,d){var e;return d=d||"px",arguments.length<1||1===arguments.length&&arguments[0]===!0?{x:this.x(arguments[0]===!0),y:this.y(arguments[0]===!0)}:(e={},"number"===puredom.typeOf(a)?e.left=a+d:"string"===puredom.typeOf(a)&&(e.left=a),"number"===puredom.typeOf(b)?e.top=b+d:"string"===puredom.typeOf(b)&&(e.top=b),this.css(e,c),this)},scrollLeft:function(a){return a||0===a?("number"!==m.typeOf(a)&&(a=Math.round((a+"").replace(q.regex.getNonIntegerCharsSigned,""))),void this._each(function(b){b.scrollLeft=a})):this._nodes&&this._nodes[0]&&this._nodes[0].scrollLeft||0},scrollTop:function(a){return a||0===a?("number"!==m.typeOf(a)&&(a=Math.round((a+"").replace(q.regex.getNonIntegerCharsSigned,""))),void this._each(function(b){b.scrollTop=a})):this._nodes&&this._nodes[0]&&this._nodes[0].scrollTop||0},focus:function(){return this._each(function(a){a.focus&&a.focus()}),this},blur:function(){return this._each(function(a){a.blur&&a.blur()}),this},selectAll:function(){this._each(function(a){a.SelectAll&&a.SelectAll(),a.select&&a.select(),a.selectionStart&&a.hasOwnProperty("value")&&(a.selectionStart=0,a.selectionEnd=a.value.length)})},getStyle:function(a,b){var c=[];return this._each(function(b){c.push(m.nodeStyle(b,a)||null)}),b===!1?(this.pushResult(c),this):c.length<=1?c[0]:c},value:function(a,b){if(b=b||{},null!==a&&void 0!==a&&arguments.length>0)return this._each(function(c){var d=(c.nodeName+"").toLowerCase(),e=(c.getAttribute("type")||"").toLowerCase();"input"!==d||"checkbox"!==e&&"radio"!==e?c.value=a:c.checked=!!a,b.fireChange!==!1&&m.fireEvent({type:"change",target:c,value:a})}),this;var c=[];return this._each(function(a){var b,d=(a.nodeName+"").toLowerCase(),e=(a.getAttribute("type")||"").toLowerCase();"input"!==d||"checkbox"!==e&&"radio"!==e?"select"===d?(b=a.multiselect||a.multiSelect?[]:null,m.el(a).query("option")._each(function(a){(a.selected||a.checked)&&(m.isArray(b)?b.push(a.value):b=a.value)}),c.push(b)):c.push(a.value):c.push(!!a.checked)}),c.length<2?c[0]:c},attr:function(a,b,c){var d,e,f=[];if(0===arguments.length){for(f={},d=this._nodes[0].attributes.length;d--;)e=this._nodes[0].attributes[d],e.specified&&(f[e.name||e.nodeName]=e.value||e.nodeValue);return f}if(arguments.length>1){if("object"===m.typeOf(a)){for(d in a)"string"==typeof d&&a.hasOwnProperty(d)&&this.attr(f,a[d]);return this}return this._each(function(c){try{c.setAttribute(a,b),!c.removeAttribute||null!==b&&void 0!==b||c.removeAttribute(a)}catch(d){}})}return this._each(function(b){var c=b.getAttribute(a);"string"!=typeof c&&(c=null),f.push(c)}),c===!1?(this.pushResult(f),this):f.length<=1?f[0]:f},prop:function(a,b,c){var d=[];return arguments.length>1?this._each(function(c){if(c[a]=b,void 0===b)try{delete c[a]}catch(d){}}):(this._each(function(b){var c;try{c=b[a]}catch(e){m.log("NodeSelection#prop("+a+") :: Access Error",e)}d.push(c||null)}),c===!1?(this.pushResult(d),this):d.length<=1?d[0]:d)},enable:function(){return this.attr("disabled",null),this},disable:function(){return this.attr("disabled","disabled"),this},enabled:function(a){return a===!0||a===!1?(this[a?"enable":"disable"](),this):"disabled"!==this.attr("disabled")&&this.prop("disabled")!==!0},on:function(a,b,c){return this._each(function(d){m.addEvent(d,a,b,c)}),this},off:function(a,b,c){return this._each(function(d){m.removeEvent(d,a,b,c)}),this},trigger:function(a,b){return this._each(function(c){m.fireEvent(m.extend({},b||{},{type:a,target:c}))}),this},_removeAllEvents:function(a){var b;return this._each(function(a){q.wrappedEventListener.destroyObjHandlers(a,!0)}),b=this.children(),a===!0&&b.count()>0&&b._removeAllEvents(!0),b=a=null,this},appendChild:function(a){if(a&&this._nodes.length>0)if(a.constructor===this.constructor){var b=this._nodes[0];a._each(function(a){b.appendChild(a)})}else this._nodes[0].appendChild(a);return this},insertBefore:function(a,b){if(a&&this._nodes.length>0){if(b&&b.constructor===this.constructor&&(b=b._nodes[0]),!b||b.parentNode!==this._nodes[0])return this.appendChild(a);if(a.constructor===this.constructor){var c=this._nodes[0];a._each(function(a){c.insertBefore(a,b)},null,!0)}else this._nodes[0].insertBefore(a,b)}return this},insertInto:function(a){var b;return a&&this.count()>0&&(a.constructor===this.constructor&&(a=a._nodes[0]),1===this.count()?a.appendChild(this._nodes[0]):(b=f.createDocumentFragment(),this._each(function(a){b.appendChild(a)},null,!0),a.appendChild(b))),this},remove:function(){return this.fireEvent("remove"),this._each(function(a){a.parentNode&&a.parentNode.removeChild(a)}),this},destroy:function(){return this.remove(),this.fireEvent("destroy"),this._removeAllEvents(!0),this._nodes.splice(0,this._nodes.length),this},query:function(a,b){var c=[];return this._nodes.length>0&&(b=puredom.extend({},b||{}),this._each(function(d){var e;b.within=d,e=m.selectorEngine.query(a,b),m.isArray(e)&&e.length>0&&(c=c.concat(e))})),new m.NodeSelection(c)},clone:function(a,b){var c=[];return b===!0&&(b=this.parent()),this._each(function(b){c.push(b.cloneNode(a!==!1))}),c=new m.NodeSelection(c),b&&b.appendChild(c),c._each(q.removeNodeUID),a!==!1&&c.query("*")._each(q.removeNodeUID),c},count:function(){return this._nodes.length},exists:function(){return this.count()>0},siblings:function(){var a=new m.NodeSelection;return this._each(function(b){for(var c=b;c=c.previousSibling;)"#text"!==c.nodeName&&"#comment"!==c.nodeName&&3!==c.nodeType&&a._nodes.push(c);for(c=b;c=c.nextSibling;)"#text"!==c.nodeName&&"#comment"!==c.nodeName&&3!==c.nodeType&&a._nodes.push(c)}),a},next:function(){for(var a=this._nodes[0]&&this._nodes[0].nextSibling;a&&3===a.nodeType;)a=a.nextSibling;return new m.NodeSelection(a&&[a]||null)},prev:function(){for(var a=this._nodes[0]&&this._nodes[0].previousSibling;a&&3===a.nodeType;)a=a.previousSibling;return new m.NodeSelection(a&&[a]||null)},previous:function(){return this.prev.apply(this,arguments)},firstChild:function(){return this.children().first()},lastChild:function(){return this.children().last()},nthChild:function(a){return this.children().index(a)},first:function(a){return new m.NodeSelection(this._nodes.slice(0,a||1))},last:function(a){return new m.NodeSelection(this._nodes.slice(this._nodes.length-(a||1)))},index:function(a,b){return new m.NodeSelection("number"===m.typeOf(a)&&this._nodes.slice(a,a+(b||1))||null)},parent:function(){var a,b=[];return this._each(function(c){a=c.parentNode,a&&b.indexOf(a)<0&&11!==a.nodeType&&b.push(a)}),new m.NodeSelection(b)},children:function(){var a,b,c=[];if(this._nodes.length>0)for(a=0;a<this._nodes.length;a++)if(this._nodes[a].childNodes)for(b=0;b<this._nodes[a].childNodes.length;b++)3!==this._nodes[a].childNodes[b].nodeType&&"#text"!==this._nodes[a].childNodes[b].nodeName&&"#comment"!==this._nodes[a].childNodes[b].nodeName&&c.push(this._nodes[a].childNodes[b]);return new m.NodeSelection(c)},submit:function(){return this._each(function(a){var b=m.fireEvent({type:"submit",target:a});b.rval!==!1&&b.returnValue!==!1&&b.preventDefault!==!0&&a.submit&&a.submit()})},selection:function(b,c){var d,e,g,h,i,j=this._nodes[0];return b&&"number"!=typeof b&&b.start&&(c=b.end,b=b.start),"number"!=typeof b?a.getSelection?(d="string"==typeof j.value?j.value:j.innerHTML,e=a.getSelection(),{start:j.selectionStart+0,end:j.selectionEnd+0,text:d.substring(e.start,e.end)}):f.selection?(e=f.selection.createRange(),g=f.body.createTextRange(),g.moveToElementText(j),g.setEndPoint("EndToStart",e),{start:g.text.length,end:g.text.length+e.text.length,text:e.text}):(m.log("Selection retrieval is not supported in this browser."),{start:0,end:0,text:""}):(0>b&&(b=0),h=j.value.length,c>h&&(c=h),b>c?b=c:b>c&&(c=b),a.getSelection?(j.selectionStart=b,j.selectionEnd=c):j.selectionEnd||0===j.selectionEnd?(j.selectionStart=b,j.selectionEnd=c):j.createTextRange&&(i=j.createTextRange(),i.collapse(!0),i.moveStart("character",b),i.moveEnd("character",c),i.select()),this)},template:function(a){var b,c=m.templateAttributeName;return a=a||{},b=function(a){for(var b=a.length;b--;)"htmlEntities"===a[b]&&a.splice(b,1);return a},this.query("["+c+"]").each(function(d){var e,f,g,h,i,j,k=d.nodeName(),l=d.attr(c);l=~l.indexOf(":")?q.parseCSS(l,!1):{set:l};for(e in l)if(l.hasOwnProperty(e)&&(f=l[e].split("|"),h=b(f.slice(1)),f=f[0],g=puredom.delve(a,f),null!==g&&void 0!==g))if((g instanceof Date||"Date"===g.constructor.name)&&g.toLocaleString&&(g=g.toLocaleString()),h&&h.length&&(g=m.text.filter(g,h.join("|"))),j=e.match(/^([a-z]+)\-(.+)$/i),j&&"function"==typeof d[j[1]])d[j[1]](j[2],g);else if("function"==typeof d[e])d[e](g);else if(i=d.attr("data-tpl-prop"))d.prop(i,g);else switch(k){case"select":case"input":case"textarea":case"meter":case"progress":d.value(g);break;case"img":case"video":case"audio":case"iframe":d.attr("src",g);break;default:d.text(g)}}),a=null,this}}),m.NodeSelection.prototype.fireEvent=m.NodeSelection.prototype.trigger,m.NodeSelection.prototype.emit=m.NodeSelection.prototype.trigger,m.NodeSelection.prototype.addEvent=m.NodeSelection.prototype.on,m.NodeSelection.prototype.removeEvent=m.NodeSelection.prototype.off,m.NodeSelection.prototype.animateCss=m.NodeSelection.prototype.animateCSS,q.incrementAnimationCount=function(a){a._puredom_animationCount=q.getAnimationCount(a)+1,1===a._puredom_animationCount&&m.addClass(a,"_puredom_animating")},q.decrementAnimationCount=function(a){var b=Math.max(0,q.getAnimationCount(a));b>1?a._puredom_animationCount=b-1:(a._puredom_animationCount=null,m.removeClass(a,"_puredom_animating"))},q.getAnimationCount=function(a){return parseInt(a._puredom_animationCount,10)||0},q.unload=function(){q.wrappedEventListener.reset(),m.selectorEngine.clearCache(),q._nodeToIdList={},setTimeout(function(){a.puredom=q=p=l=null},10)},m.el=function(b,c){var d,e;if(b)if(e=typeof b,"string"===e&&"<"!==b.charAt(0))c===!0&&m.log("query is a CSS selector",b,e),d="body"===b?f.body:"html"===b?f.documentElement||f:m.selectorEngine.query(b,arguments[1]);else if(m.isArray(b)){d=[];for(var g=0;g<b.length;g++)Array.prototype.splice.apply(d,[0,0].concat(m.el(b[g])._nodes))}else if("string"===e||"object"===e&&!b.nodeName&&b!==a)c===!0&&m.log("query is an HTML fragment",b,e),d=m.createElement.apply(m,arguments);else{if(b.constructor===m.NodeSelection)return c===!0&&m.log("query is already a NodeSelection",b.constructor+"",b.constructor.name),b;(b.nodeName||b===a)&&(c===!0&&m.log("query is an HTML element",b,e),b===a&&(b=f.documentElement||f),d=b)}return new m.NodeSelection(d)},m.node=function(a){return new m.NodeSelection(q.idToNode(a))},m.DOMEvent=function(a){a&&(this.type=a.replace(/^on/gi,""))},m.DOMEvent.displayName="puredom.DOMEvent",m.extend(m.DOMEvent.prototype,{which:null,type:"",target:null,relatedTarget:null,preventDefault:function(){this.defaultPrevented=!0},stopPropagation:function(){this.propagationStopped=!0,this.bubblingCancelled=!0},cancel:function(){return this.preventDefault(),this.stopPropagation(),this.returnValue=!1,!1},returnValue:!0,originalEvent:null,timeStamp:null}),m.DOMEvent.prototype.cancelBubble=m.DOMEvent.prototype.stopPropagation,m.DOMEvent.prototype.stop=m.DOMEvent.prototype.cancel,m.DOMEvent.prototype.prevent=m.DOMEvent.prototype.cancel,q.wrappedEventListener={list:[],none:{},summary:function(){for(var a=0;a<this.list.length;a++)m.log(q.idToNode(this.list[a].target),".on",this.list[a].type," -> ",this.list[a].handler.displayName||this.list[a].handler.name)},reset:function(b){var c,d;if(b===!0)for(c=this.list.length;c--;)d=this.list[c],this.list[c]=this.none,m.removeEvent(q.idToNode(d.target),d.type,d.selector,d.wrappedHandler),this.unsetRefs(d),a.killCount=(a.killCount||0)+1;this.list.splice(0,this.list.length)},destroyObjHandlers:function(b){var c,d,e=q.nodeToId(b);for(c=this.list.length;c--;)d=this.list[c],d.target===e&&(this.unsetRefs(d),this.list.splice(c,1),m.removeEvent(b,d.type,d.selector,d.wrappedHandler),a.killCount=(a.killCount||0)+1)},get:function(b,c,d,e,f){var g,h;for(e=e||null,d=q.nodeToId(d),g=this.list.length;g--;)if(h=this.list[g],h.target===d&&h.handler===c&&h.selector===e&&h.type===b){c=h.wrappedHandler,f===!0&&(this.list.splice(g,1),a.killCount=(a.killCount||0)+1,this.unsetRefs(h));break}return c},unsetRefs:function(a){a.wrappedHandler.type=null,a.wrappedHandler.handler=null,a.wrappedHandler.target=null},internalFireEvent:function(a){var b,c,d,e=q.nodeToId(a.target),f=a.type.replace(/^on/gm,"");for(b=this.list.length;b--&&(c=this.list[b],c.target!==e||c.type!==f||(d=c.handler.call(a.target,a),d!==!1)););},create:function(b,c,e,g){g=g||null;var h={type:b,target:q.nodeToId(e),selector:g,handler:c,wrappedHandler:function i(b){var c,e,g,h=i.handler,j=(i.type||b.type).toLowerCase().replace(/^on/,""),k=this!==a?this:q&&q.idToNode(i.target),l={isInSelf:!1,doPreventDefault:!1,doCancelBubble:!1,doStopPropagation:!1,e:b||a.event,ret:null,end:function(){return l.end=null,b=e=l=h=j=k=null,this.ret}};q&&q.idToNode||m.log("target:<"+b.target.nodeName+' class="'+b.target.className+'" id="'+b.target.id+'"> , type:'+j+"/"+b.type),b=l.e,e=m.extend(new m.DOMEvent(j),{which:b.which,target:b.target||b.srcElement||k||f.body,relatedTarget:b.relatedTarget||("mouseout"===j?b.toElement:b.fromElement),returnValue:!0,originalEvent:b,timeStamp:b.timeStamp||Date.now()});for(g in b)e.hasOwnProperty(g)||"function"==typeof b[g]||g===g.toUpperCase()||"layerX"===g||"layerY"===g||(e[g]=b[g]);e.target||m.log("Event target doesn't exist for type \""+e.type+'": ',e.target,", srcElement=",b.srcElement),"touchend"===b.type&&q._lastTouchPos?(e.pageX=q._lastTouchPos.pageX,e.pageY=q._lastTouchPos.pageY):b.touches&&b.touches[0]?(e.pageX=b.touches[0].pageX,e.pageY=b.touches[0].pageY,q._lastTouchPos={pageX:e.pageX,pageY:e.pageY}):(b.pageX||0===b.pageX||b.clientX||0===b.clientX)&&(e.pageX=b.pageX||b.clientX+f.body.offsetLeft,e.pageY=b.pageY||b.clientY+f.body.offsetTop),(j.indexOf("key")>-1||b.keyCode||b.charCode)&&(e.keyCode=b.keyCode||b.which,e.charCode=b.keyCode||b.charCode||b.which,e.which=b.which),(j.indexOf("mouse")>-1||j.indexOf("click")>-1||null!==b.button&&void 0!==b.button)&&(e.button="number"==typeof b.button?b.button:b.which),e.target&&3===e.target.nodeType&&3!==k.nodeType&&(e.target=e.target.parentNode);var n,o,p=i.selector;p&&"string"==typeof p&&(n=m.selectorEngine.query(p,{within:k})),l.searchNode=!n&&e.relatedTarget||e.target;do if(n){if(-1!==n.indexOf(l.searchNode)){o=!0,c=l.searchNode;break}}else if(l.searchNode===k){l.isInSelf=!0;break}while(l.searchNode&&(l.searchNode=l.searchNode.parentNode)&&l.searchNode!==f);return!n||o?("mouseover"!==j&&"mouseout"!==j||!l.isInSelf?(h&&h.call&&(e.currentTarget=c||k,l.handlerResponse=h.call(c||k,e)),e.returnValue=l.handlerResponse!==!1&&e.returnValue!==!1,e.defaultPrevented&&(e.returnValue=b.returnValue=!1,b.preventDefault&&b.preventDefault()),(e.bubblingCancelled===!0||e.propagationStopped===!0||e.cancelBubble===!0)&&d(b),l.ret=e.returnValue):l.ret=!0,l.end()):void 0
}};return h.wrappedHandler.displayName="wrappedEventHandler_"+b,h.wrappedHandler.handler=c,h.wrappedHandler.type=b,h.wrappedHandler.target=h.target,h.wrappedHandler.selector=g,this.list.push(h),e=b=c=h=null,this.list[this.list.length-1].wrappedHandler}},q.getSubjectDescription=function(a){return(a.nodeName?m.el(a)+"":a.constructor&&a.constructor.name||a.name||a)+""},m.eventTypeMap={},q.support.webkitMultitouch&&m.extend(m.eventTypeMap,{mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"}),m.addEvent=function(a,b,c,d){var e,f;if("function"==typeof c&&(d=c,c=null),a){if("string"===m.typeOf(b)&&b.indexOf(",")>-1&&(b=b.replace(/\s/gm,"").split(",")),m.isArray(b)){for(e=0;e<b.length;e++)m.addEvent(a,b[e],c,d);return!0}if(f=b=(b+"").toLowerCase().replace(/^\s*(on)?(.*?)\s*$/gim,"$2"),"string"!=typeof b||!d||!d.call)return void m.log("Attempted to add event with invalid type or handler:",{type:b,handler:d+"",subject:q.getSubjectDescription(a)});m.eventTypeMap.hasOwnProperty(b)&&(b=m.eventTypeMap[b]),d=q.wrappedEventListener.create(f,d,a,c),a.attachEvent?a.attachEvent("on"+b,d):a.addEventListener&&(a.addEventListener(b,d,!1),m._eventCount=(m._eventCount||0)+1)}},m.removeEvent=function(a,b,c,d){var e,f;if("function"==typeof c&&(d=c,c=null),a){if("string"===m.typeOf(b)&&b.indexOf(",")>-1&&(b=b.replace(/\s/gm,"").split(",")),m.isArray(b)){for(e=0;e<b.length;e++)m.removeEvent(a,b[e],c,d);return!0}if(f=b=(b+"").toLowerCase().replace(/^\s*(on)?(.*?)\s*$/gim,"$2"),"string"!=typeof b||!d||!d.call)return void m.log("Attempted to remove event with invalid type or handler:",{type:b,handler:d+"",subject:q.getSubjectDescription(a)});if(m.eventTypeMap.hasOwnProperty(b)&&(b=m.eventTypeMap[b]),d=q.wrappedEventListener.get(f,d,a,c,!0),a.detachEvent)a.detachEvent("on"+b,d);else if(a.removeEventListener)try{a.removeEventListener(b,d,!1),m._eventCount=(m._eventCount||0)-1}catch(g){}}},m.cancelEvent=function(b){if(b=b||a.event){b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation();try{b.cancelBubble=!0}catch(c){}b.returnValue=!1}return!1},m.fireEvent=function(a){var b,c,d,e,g;if(a=a||{},f.createEventObject){a=m.extend({},a),a.type="on"+a.type.toLowerCase().replace(/^on/,"");try{b=f.createEventObject()}catch(h){g=!0}if(!g){for(d in a)if(a.hasOwnProperty(d))try{b[d]=a[d]}catch(h){}try{c=a.target.fireEvent(a.type,b),e=b.preventDefault===!0}catch(h){g=!0}}g&&q.wrappedEventListener.internalFireEvent&&q.wrappedEventListener.internalFireEvent(a)}else{b=f.createEvent("HTMLEvents"),b.initEvent(a.type.toLowerCase().replace(/^on/,""),!0,!0);for(d in a)if(a.hasOwnProperty(d))try{b[d]=a[d]}catch(h){}c=!a.target.dispatchEvent(b),e=b.preventDefault===!0}return{evt:b,preventDefault:e,rval:c}},q._nodeToIdIndex=0,q._nodeToIdList={},q.nodeToId=function(b){var c,d;return b===a?"_td_autoid_window":b===f.documentElement?"_td_autoid_html":b===f.body?"_td_autoid_body":(c=/\s_td_autoid_([0-9]+)\s/gm.exec(" "+b.className+" "),c&&c[1]?d=c[1]:(q._nodeToIdIndex+=1,d=q._nodeToIdIndex+"",m.addClass(b,"_td_autoid_"+d)),q.ensureNodeIdListing(b,d),d)},q.idToNode=function(b){var c,d,e=q._nodeToIdList[b+""];return"_td_autoid_window"===b?a:"_td_autoid_html"===b?f.documentElement:"_td_autoid_body"===b?f.body:(e&&(d=m.selectorEngine.query(e),/\s_td_autoid_[0-9]+\s/gm.exec(" "+d.className+" ")||(d=null)),d||(c=m.selectorEngine.query("._td_autoid_"+b),d=c&&c[0],d&&q.ensureNodeIdListing(d,b)),d||!1)},q.ensureNodeIdListing=function(a,b){var c;a.getAttribute&&(c=a.getAttribute("id"),c||(c="_td_autoid_"+b,a.setAttribute("id",c)),q._nodeToIdList[b]="#"+c)},q.removeNodeUID=function(a){var b=a.getAttribute("id");b&&b.match(/^_td_autoid_[0-9]+$/g)&&(a.removeAttribute?a.removeAttribute("id"):a.setAttribute("id","")),a.className&&(a.className=a.className.replace(/(^|\b)_td_autoid_[0-9]+(\b|$)/gim,""))},m.animationFrame=function(){function b(){return e&&e.now?e.now():Date.now()}var c,d={nativeSupport:!0,manualFramerate:11},e=a.performance;return a.requestAnimationFrame?c="":a.mozRequestAnimationFrame?c="moz":a.webkitRequestAnimationFrame?c="webkit":d.nativeSupport=!1,d.nativeSupport?(d.getTimer=function(b){return a[(c?c+"R":"r")+"equestAnimationFrame"](b)},d.cancelTimer=function(b){a[(c?c+"C":"c")+"ancelRequestAnimationFrame"](b)},d.getStartTime=function(){return a[(c?c+"A":"a")+"nimationStartTime"]||b()}):(d.getTimer=function(a){return setTimeout(function(){a(b()),a=null},d.manualFramerate)},d.cancelTimer=function(a){clearTimeout(a)},d.getStartTime=function(){return b()}),d}(),m.setOpacity=function(a,b){1>=b&&b>0&&(b=100*b),b=Math.round(b),100>b?(a.style.opacity=parseFloat(b/100).toFixed(2),a.style.filter="alpha(opacity="+b+")"):(a.style.opacity=null,a.style.filter=null)},m.applyMsFilter=function(a,b,c){var d,e,f,g,h,i="",j="MsFilter"===q.support.filterProperty?'"':"";if(b=b.charAt(0).toUpperCase()+b.substring(1),"string"==typeof c)for(i=c,c={},g=i.replace(/\s*(,|=)\s*      /gm,"$1").split(","),f=0;f<g.length;f++)h=g[f].indexOf("="),c[g[f].substring(0,h)]=g[f].substring(h+1);else{for(f in c)c.hasOwnProperty(f)&&(i+=", "+f+"="+c[f]);i=i.replace(",","")}try{d=a.filters&&a.filters.item&&(a.filters.item("DXImageTransform.Microsoft."+b)||a.filters.item(b))}catch(k){}if(d){for(f in c)c.hasOwnProperty(f)&&"enabled"!==f&&(d[f]=c[f]);d.enabled=c.enabled?1:0}else e=a.style.MsFilter||a.style.filter||"",e+=" "+(m.nodeStyle(a,"MsFilter")||m.nodeStyle(a,"filter")||""),e&&(e=e.replace(new RegExp('(^|\\s|\\))"?((progid\\:)?DXImageTransform\\.Microsoft\\.)?'+b+'\\s*?\\(.*?\\)"?\\s*?',"gim"),"$1")+" "),a.style[q.support.filterProperty]=e+j+"progid:DXImageTransform.Microsoft."+b+"("+i+")"+j;a.style.zoom||(a.style.zoom=1)};var s={};m.applyCss=function(a,b){var c,d,f,g,h;b=b||{};for(c in b)b.hasOwnProperty(c)&&(d=m.getStyleAsCSS(c),d=d.replace(/^\-(moz|webkit|ms|o|vendor)\-/gim,i+"-"),d=m.getStyleAsProperty(d),d=e(d),q.support.filters?"opacity"===d?(h=Math.round(100*parseFloat(b[c])),100>h?m.applyMsFilter(a,"alpha",{enabled:!0,opacity:h}):m.applyMsFilter(a,"alpha",{enabled:!1})):"--box-shadow"===d&&(f=b[c].match(/\b(\#[0-9af]{3}[0-9af]{3}?|rgba?\([0-9\,\s]+\))\b/gim),f=f&&f[0]||"",g=(" "+b[c]+" ").replace(f,"").replace(/\s+/m," ").split(" ").slice(1,4),m.applyMsFilter(a,"glow",{Color:f,Strength:Math.round(g[3].replace(/[^0-9\-\.]/gim,""))})):a.style[d]=b[c])},m.getStyleAsProperty=function(a){return"string"!=typeof a?null:(a=a.replace(/\-[a-z0-9]/gim,q.styleAsPropReplacer),a=a.replace(/^(webkit|moz|ms|o)[A-Z]/gm,q.styleAsPropVendorPrefixReplacer))},q.styleAsPropReplacer=function(a){return a.charAt(1).toUpperCase()},q.styleAsPropVendorPrefixReplacer=function(a){return a.charAt(0).toUpperCase()+a.substring(1)},m.getStyleAsCSS=function(a){return"string"==typeof a&&a.replace(/\-*([A-Z])/gm,"-$1").toLowerCase()||null},q.parseCSS=function(a,b){var c,d,e,f=/\s*([a-z\-]+)\s*:\s*([^;]*?)\s*(?:;|$)/gi;if(a)for(c={},f.lastIndex=0;d=f.exec(a);)e=d[1],b!==!1&&(e=m.getStyleAsProperty(e)),c[e]=d[2];return c},m._parseCss=q.parseCSS,m.getCssTransitions=function(a){var b,c,d,e,f={},g={properties:"-vendor-transition-property",durations:"-vendor-transition-duration",timingFunctions:"-vendor-transition-timing-function"};for(b in g)g.hasOwnProperty(b)&&(g[b]=(m.nodeStyle(a,g[b])||"").replace(/\s/,"").split(","));for(c=0;c<g.properties.length;c++)!g.properties[c]||"null"===g.properties[c]||"all"===g.properties[c]&&g.durations[c].match(/^[0\.ms]*$/)||(d=g.durations[c]||g.durations[g.durations.length-1],e=parseFloat(d.replace(/[^\-0-9\.]/gim,""))||0,d.match(/ms$/i)||(e*=1e3),f[m.getStyleAsProperty(g.properties[c])]={duration:e,timingFunction:g.timingFunctions[c]||g.timingFunctions[g.timingFunctions.length-1]||"ease"});return f},m.setCssTransitions=function(a,b){var c,d={"-vendor-transition-property":[],"-vendor-transition-duration":[],"-vendor-transition-timing-function":[]};for(c in b)b.hasOwnProperty(c)&&b[c]&&(d["-vendor-transition-property"].push(c.toLowerCase()),d["-vendor-transition-duration"].push((b[c].duration/1e3).toFixed(3)+"s"),d["-vendor-transition-timing-function"].push(b[c].timingFunction||"ease"));for(c in d)d.hasOwnProperty(c)&&(d[c]=d[c].join(", "));m.applyCss(a,d)},m.updateCssTransitions=function(a,b){var c,d;if(b){c=m.getCssTransitions(a);for(d in b)b.hasOwnProperty(d)&&(b[d]?c[d]=b[d]:delete c[d]);m.setCssTransitions(a,c)}},m.addClass=function(a,b,c){var d,e,f,g=!1;if(b){if(1===b.length?b=b[0].split(" "):m.isArray(b)||(b=b.split(" ")),a.classList)return void a.classList[c?"remove":"add"].apply(a.classList,b);for(d=(a.className||"").split(/\s+/),f=0;f<b.length;f++)e=d.indexOf(b[f]),c!==!0&&-1===e?(g=!0,d.push(b[f])):c===!0&&e>-1&&(g=!0,d.splice(e,1));g&&(a.className=d.join(" "))}},m.removeClass=function(a,b){return m.addClass(a,b,!0)},m.nodeStyle=function(b,c){var d,e,g,h=(c+"").replace(/[A-Z]/g,"-$0").toLowerCase();return h=h.replace(/^\-(moz|webkit|ms|o|vendor)\-/gim,i+"-"),d=h.replace(/\-[a-z]/gim,function(a){return a.substring(1).toUpperCase()}),"opacity"===h&&q.support.filters?b.filters.alpha&&b.filters.alpha.enabled!==!1&&Math.round(b.filters.alpha.opacity)/100:(b.style&&b.style[d]?g=b.style[d]||"":b.currentStyle&&b.currentStyle[d]?g=b.currentStyle[d]||b.currentStyle[h]||"":f.defaultView&&f.defaultView.getComputedStyle?(e=f.defaultView.getComputedStyle(b,null),g=e&&(e.getPropertyValue(h)||e.getPropertyValue(d))||""):a.getComputedStyle&&(e=a.getComputedStyle(b,null),g=e&&(e.getPropertyValue(h)||e.getPropertyValue(d))||""),g)},m.htmlEntities=function(a,b){var c=["htmlEntities"];return b===!0&&c.push("stripTags"),m.text.filter(a,c)},m.log=function(){var a=b.console;a&&a.log&&a.log.apply(a,arguments)},m.addNodeSelectionPlugin=function(a,b){m.NodeSelection.prototype.hasOwnProperty(a)||(m.NodeSelection.prototype[a]=function(){var a=b.apply(this,arguments);return null===a||void 0===a?this:a})},m.init=function(){o||(o=!0,m.forEach(q.oninit,function(a){a.call(m,m)}),m.fireEvent({target:f.body,type:"puredomready",puredom:m}))},m.addEvent(f,"DOMContentLoaded",m.init),m.addEvent(a,"load",m.init),m.addEvent(a,"unload",q.unload),function(){if(h){for(var a in h)h.hasOwnProperty(a)&&(m[a]=h[a]);h=null}}(),q.puredom=function(a){return"function"===m.typeOf(a)?(o===!0?a.call(m,m):q.oninit.push(a),m):m.el.apply(m,arguments)},m.extend(m,n),m.toString=function(){return"function puredom(){}"},this.puredom=b.puredom=m,"function"==typeof define&&define.amd&&define("puredom",function(){return m}),"object"==typeof module&&(module.exports=m)}(this,"object"==typeof global?global:this),function(a){function b(a){a.lastIndex=0}function c(b,c){var d;c=c||f.baseNode,b=b.replace(/(\[[^\[\]= ]+=)([^\[\]"']+)(\])/gim,'$1"$2"$3');try{d=c.querySelectorAll(b),d&&(d=a.toArray(d))}catch(e){a.log("Native querySelectorAll failed for selector: "+b+", error:"+e.message)}return d||!1}function d(a){return 2===arguments.length&&(a={regex:arguments[0],filter:arguments[1]}),a&&a.regex&&a.filter?a:!1}var e,f={enableSelectorStats:!1},g={},h=!1,i=/^((?:[a-z][a-z0-9\_\-]*)|\*)?/gi,j=/^\s*(.*?)\s*$/gm;return e=[{title:"ID selector {#id}",regex:/^#[_a-zA-Z0-9-]*/gm,filter:function(a,b,c){var d=c.searchBaseNode&&c.searchBaseNode.getElementById?c.searchBaseNode:document;return[d.getElementById(a[0].substring(1))]}},{title:"Class selector {.className}",regex:/^\.([^#.:\[<>\{+\|\s]+)/gim,filter:function(a,b){var c,d,e=" "+a[1]+" ";for(c=b.length;c--;)d=b[c]&&b[c].className,d&&-1!==(" "+d+" ").indexOf(e)||b.splice(c,1)}},{title:"Attribute selector {[name=value] & variants}",regex:/^\[([^\^\$\~=]+)(?:([\^\$\~=]+)(['"]?)([^\]]*))?\3\]/g,filter:function(b,c){var d,e,f,g,h;if(b&&b[1])for(e={attribute:b[1]},b[2]&&b[4]&&(e.type=b[2],e.attrValue=b[4]||""),d=c.length;d--;){switch(f=!1,g="checked"===e.attribute?"true"===e.attrValue||"false"===e.attrValue?c[d].checked?"true":"false":c[d].checked?"checked":null:"selected"===e.attribute?"true"===e.attrValue||"false"===e.attrValue?c[d].selected?"true":"false":c[d].selected?"selected":null:c[d]&&c[d].getAttribute(e.attribute+""),e.attrPresent="string"===a.typeOf(g),e.attrSet=g&&g.length>0,e.attrValue&&(h=e.attrPresent?g.indexOf(e.attrValue):-1),e.type||""){case"=":f=g===e.attrValue;break;case"^=":f=0===h;break;case"$=":f=e.attrSet&&g.substring(g.length-e.attrValue.length)===e.attrValue;break;case"~=":f=h>-1;break;default:f=!e.attrValue&&e.attrPresent}f||c.splice(d,1)}}},{title:"Descendant selector {>}",regex:/^\s*\>\s*((?:[a-z][a-z0-9\:\_\-]*)|\*)?/gi,filter:function(b,c,d){var e,f,g,h,i=[].concat(c),j=(b[1]||"*").toLowerCase();for(c.splice(0,c.length),!d.isFiltered&&d.first&&a.log("Descendant selector called on an unfiltered result set.  Operating on descendants of the document."),(!d.isFiltered||d.first)&&(i=[d.searchBaseNode]),e=0;e<i.length;e++)for(g=i[e].childNodes,f=0;f<g.length;f++)h=(g[f].nodeName+"").toLowerCase(),(h===j||"*"===j&&"#"!==h.charAt(0)&&(1===g[f].nodeType||9===g[f].nodeType))&&c.push(g[f])}},{title:"nth-child aliases, like :first-child",regex:/^\:(first|last|only)\-(child|of\-type)/gm,filter:function(b,c,d){var f,g,h,i,j={"first-child":":nth-child(0n+1)","first-of-type":":nth-of-type(0n+1)","last-child":":nth-last-child(0n+1)","last-of-type":":nth-last-of-type(0n+1)"};for(f=e.length;f--;)if(e[f].isNthChildSelector===!0){g=e[f];break}return j.hasOwnProperty(b[1]+"-"+b[2])&&g?(h=j[b[1]+"-"+b[2]],g.regex.lastIndex=0,i=g.regex.exec(h),g.filter(i,c,d)):void a.log('Unknown nth-child alias "'+b[1]+"-"+b[2]+'"')}},{isNthChildSelector:!0,title:"nth-child selector {:nth-child(n+2) & variants}",regex:/^\:(nth(?:\-last)?(?:\-of\-type|\-child))\((?:(\-?[0-9]*n(?:[+-][0-9]+)?)|([0-9]+)|([a-z]+))\)/gm,filter:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=-1!==b[1].indexOf("-of-type"),o={odd:[2,1],even:[2]};if(d=c.splice(0,c.length),-1!==b[1].indexOf("-last")&&d.reverse(),b[2]?(g=b[2].split("n"),0===g[0].replace("-","").length&&(g[0]=g[0]+"1"),l=Math.round(g[0].replace("+",""))||0,m=Math.round(g[1].replace("+",""))||0):b[3]?(l=0,m=Math.round(b[3])||0):b[4]&&(g=b[4].toLowerCase(),o.hasOwnProperty(g)?(l=o[g][0]||0,m=o[g][1]||0):a.log('Unknown named nth-child expression "'+r[4]+'"')),!(0>=l+m))for(l===m&&(m=0),e=0;e<d.length;e++){if(children=(d[e].parentNode||{}).childNodes,i=(d[e].nodeName+"").toLowerCase(),isMatch=!1,children)for(k=0,f=0;f<children.length&&(j=children[f],h=n?(j.nodeName+"").toLowerCase()===i:"#"!==(j.nodeName+"").substring(0,1)||1===j.nodeType||9===j.nodeType,!h||(k+=1,j!==d[e]||(isMatch=l>0?k%l-m===0:k===m,!isMatch)));f++);isMatch&&c.push(d[e])}}},{title:"within_internal selector { }",regex:/^\s+((?:[a-z][a-z0-9\:\_\-]*)|\*)?/gi,filter:function(b,c){var d,e=[].concat(c),f=b[1]||"*";for(c.splice(0,c.length),d=0;d<e.length;d++)Array.prototype.splice.apply(c,[c.length-1,0].concat(a.toArray(e[d].getElementsByTagName(f))))}}],f.query=function(d,k){var l,m,n,o,p,q,r,s,t,u,v,w,x,y=f.baseNode||(f.baseNode=document&&document.documentElement||document),z=d,A=0,B=!1,C=!a.support.querySelectorAll,D=Date.now();if(d=(d+"").replace(j,"$1"),k=a.extend({},k||{}),k.logging===!0&&(B=!0),h&&k.useCache===!0&&g[d])return g[d];if(k.within&&(y=k.within),y&&y.length&&!y.nodeName&&y.indexOf&&y[0]&&(y=y[0]),d.indexOf(",")>-1){for(d=d.split(","),m=[],x=d.length;x--;)if(d[x]=d[x].replace(j,"$1"),d[x].length>0&&(r=f.query(d[x],a.extend({},k,{logging:!1,internalLogging:B,internal:!0}))))for(w=0;w<r.length;w++)-1===m.indexOf(r[w])&&m.push(r[w]);return B&&a.log("query=",z,", result=",node),D=Date.now()-D,D>100&&a.log('Slow Selector Warning: "'+z+'" took '+D+"ms to complete."),m}if(d.match(/^#[^\s\[\]\(\)\:\*\.\,<>#]+$/gim))return l=[(y.getElementById?y:document).getElementById(d.substring(1))];if(n=d.match(i),n=(n&&n[0]||"").toLowerCase(),d=d.substring(n.length),q=d,">"===z.charAt(0)&&(C=!0),a.support.querySelectorAll&&C!==!0&&(l=c(z,y),l===!1&&(l=[],C=!0)),C)for("#"===d.substring(0,1)?l=[]:n&&"*"!==n||!document.all||window.opera||y!==document&&y!==document.documentElement?(l=a.toArray(y.getElementsByTagName(n||"*")),t=!0):(l=a.toArray(y.all||document.all),t=!1),o={searchBaseNode:y,negated:!1,first:!0,isFiltered:t||!(!n||"*"===n)};q.length>0;){for(A+=1,s=!1,w=0;w<e.length&&(f.enableSelectorStats===!0&&(u=Date.now()),b(e[w].regex),r=e[w].regex.exec(q),f.enableSelectorStats===!0&&(u=Date.now()-u),r&&(s=!0,B&&a.log((e[w].title||e[w].regex)+' ==>> matched:"'+q.substring(0,r[0].length)+'" ==>> remaining:"'+q.substring(r[0].length)+'" ||debug>> (submatches:'+r.slice(1).join(",")+")"),f.enableSelectorStats===!0&&(v=Date.now()),p=e[w].filter(r,l,o),p&&a.isArray(p)&&(l=p),f.enableSelectorStats===!0&&(v=Date.now()-v),q=q.substring(r[0].length),o.first=!1,o.isFiltered=!0),f.enableSelectorStats===!0&&(e[w].matchTimes.push(u),s&&e[w].filterTimes.push(v)),0!==q.length);w++);if(!s)throw new Error("puredom.selectorEngine :: Unknown CSS selector near: "+q.substring(0,20),"puredom.js",2689)}if(k.includeInvisibles!==!0)for(w=l.length;w--;)l[w]&&"#"===(l[w].nodeName+"").charAt(0)&&l.splice(w,1);return B&&a.log("query=",z,", result=",l),h&&k.cache===!0&&(g[d]=l),k.internal!==!0&&B===!0&&(D=Date.now()-D,D>10&&a.log('Slow Selector Warning: "'+z+'" took '+D+"ms to complete. "+A+" parse iterations.")),l},f.matches=function(a,b,c){return f.query(b,c?{within:c}:null).indexOf(a)>-1},f.matchesSelector=function(a,b,c){return f.matches(b,c,a)},f.enableCache=function(a){h=a!==!1,h||(g={})},f.disableCache=function(){h=!1,g={}},f.clearCache=function(){g={}},f.addSelectorFilter=function(a){return a=d.apply(this,arguments),a?(e.push(a),!0):!1},f.removeSelectorFilter=function(a){var b,c,f;if(a=d.apply(this,arguments))for(b=e.length;b--;){f=!0;for(c in e[b])if(e[b].hasOwnProperty(c)&&e[b][c]!==a[c]){f=!1;break}if(f){e.splice(b,1);break}}return f===!0},f.enableSelectorStats===!0?(!function(){for(var a=0;a<e.length;a++)e[a].matchTimes=[],e[a].filterTimes=[]}(),f.selectorStats=function(){var a,b,c,d,f,g,h={title:"--- Selector Statistics: ---",selectors:[]};for(b=0;b<e.length;b++){if(c=e[b],a={},a.title=c.title,g=0,c.matchTimes.length>0){for(f=0,d=0;d<c.matchTimes.length;d++)f+=c.matchTimes[d];g+=f,a.matching=Math.round(f/c.matchTimes.length)+"ms"}if(c.filterTimes.length>0){for(f=0,d=0;d<c.filterTimes.length;d++)f+=c.filterTimes[d];g+=f,a.filtering=Math.round(f/c.filterTimes.length)+"ms"}a.own_time=g+"ms",a.calls=c.matchTimes.length,h.selectors.push(a)}return h}):f.selectorStats=function(){return"disabled"},a.getElement=a.selectorEngine=f,f}(puredom),puredom.extend(puredom,{text:function(){var a=function(){return a.filter.apply(this,arguments)},b={htmlEntities:/[&<>"]/gim,ucWords:/(^|\s)[a-z]/gim,ucFirst:/^[a-z]/gim,nl2br:/\r?\n/g,numbersOnly:/[^0-9.\-]/gim,trim:/^\s*?(.*?)\s*?$/gim};return a.filter=function(b,c){var d,e,f,g,h;if("array"!==puredom.typeOf(c)&&(c=((c||"")+"").split("|")),arguments.length>2)for(d=2;d<arguments.length;d++)"array"===puredom.typeOf(arguments[d])?c=c.concat(arguments[d]):c.push(arguments[d]);for(d=0;d<c.length;d++){e=c[d],g=[b],f=e.indexOf(":"),f>-1&&(e=e.substring(0,f),g=g.concat(c[d].substring(f+1).split(",")));for(h in a)if((h+"").toLowerCase()===e.toLowerCase()){b=a[h].apply(a,g);break}}return b},a.escape=function(a){return encodeURIComponent(a)},a.unescape=function(a){return decodeURIComponent(a)},a.htmlEntities=function(a){var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return(a+"").replace(b.htmlEntities,function(a){return c[a]})},a.ucWords=function(a){return(a+"").toLowerCase().replace(b.ucWords,function(a){return a.toUpperCase()})},a.ucFirst=function(a){return(a+"").toLowerCase().replace(b.ucFirst,function(a){return a.toUpperCase()})},a.nl2br=function(a){return(a+"").replace(b.nl2br,"<br />")},a.numbersOnly=function(a){return(a+"").replace(b.numbersOnly,"")},a.truncate=function(a,b,c,d){var e=!1,f=a+"";return a=f,b=parseInt(b,10)||80,c=c===!0||"true"===c||"byWord"===c,d=d||"...",a.length>b&&(c?(a=a.substring(0,b),f.charAt(b).match(/\s/)||(a=a.replace(/\s[^\s]*$/,""))):a=a.substring(0,b-d.length),e=!0),e&&(a+=d),a},a.trim=function(a){var b,c=/\s/;for(a=a.replace(/^\s\s*/,""),b=a.length;c.test(a.charAt(--b)););return a.slice(0,b+1)},a["default"]=function(b,c){return b=a.trim(b),b?b:c},a.dateformat=function(a,b){var c,d=puredom.i18n,e=puredom.date;return e&&e.create&&(c=e.create(a)),(!c||(c+"").indexOf("Invalid")>-1)&&(c=new Date(a),(!c||(c+"").indexOf("Invalid")>-1)&&(c=new Date,c.setTime(Math.round(a)))),b&&b.indexOf("%")>-1?e&&e.format&&(a=e.format(c,b)):d&&(a=d(c,null,null,{datetype:b||"date"})||c+""),a},a}(),parameterize:function(a,b){var c,d,e,f,g=[],h=puredom.extend({delimiter:"&",startDelimiter:"?",assignment:"=",typeHandlers:null},b);for(c in a)if(a.hasOwnProperty(c))if(d=a[c],f=this.typeOf(d),h.typeHandlers&&h.typeHandlers.hasOwnProperty(f))g.push(h.delimiter+encodeURIComponent(c)+"="+encodeURIComponent(h.typeHandlers[f](d)));else if("array"===f&&h.disableArrayParams!==!0)for(e=0;e<d.length;e++)g.push(h.delimiter+encodeURIComponent(c)+"[]="+encodeURIComponent(d[e]));else{switch(f){case"boolean":d=d?"true":"false";break;case"null":case"undefined":d="";break;case"object":d=h.useJsonForObjects!==!1?this.json(d):this.parameterize(d)}g.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}return g=g.join(h.delimiter||"&"),g=(h.startDelimiter||"")+g},querystring:{parse:function(a){var b,c,d,e={};for("?"===a.substring(0,1)&&(a=a.substring(1)),b=a.split("&"),c=0;c<b.length;c++)b[c]&&(d=b[c].indexOf("="),e[decodeURIComponent(b[c].substring(0,d))]=0>d?"":decodeURIComponent(b[c].substring(d+1)));return e},stringify:function(a,b){return b=puredom.extend({startDelimiter:""},b||{}),puredom.parameterize(a,b)},build:function(){return puredom.querystring.stringify.apply(puredom.querystring,arguments)}},cookies:function(){var a={};return{set:function(b,c,d,e,f,g){var h,i="",j="";f="string"==typeof f?f:"",d&&(h=new Date,h.setTime(h.getTime()+24*d*60*60*1e3),i="; expires="+h.toGMTString()),a.hasOwnProperty(b)&&a[b].expires&&(i="; expires="+a[b].expires.toGMTString()),j=b+"="+encodeURIComponent(c)+i+"; path=/"+f.replace(/^\//,""),"string"==typeof e&&e.length>0&&(j+="; domain="+e.replace(/[\;\,]/,"")),g===!0&&(j+="; secure"),document.cookie=j,a[b]={value:c,expires:h}},get:function(b,c){if(a.hasOwnProperty(b)&&c!==!0)return a[b].value;var d,e,f=document.cookie.split(";");for(e=0;e<f.length;e++)if(d=f[e].replace(/^\s+/gim,""),0===d.indexOf(b+"="))return decodeURIComponent(d.substring(b.length+1,d.length));return null},remove:function(b){this.set(b,"",-1),delete a[b]},purge:function(){for(var b in a)a.hasOwnProperty(b)&&(this.remove(b),delete a[b])},read:function(){return this.get.apply(this,arguments)},write:function(){return this.set.apply(this,arguments)}}}(),Cache:function(){function a(){return this.constructor!==arguments.callee&&this.constructor!==a?new a:void(this.data={})}return puredom.extend(a.prototype,{defaultType:"_default",purge:function(){this.data={}},get:function(a,b,c){var d;return 2===arguments.length&&(b=a,c=b,a=null),a=(a||this.defaultType)+"",b+="",d=this.data.hasOwnProperty(a)&&this.data[a][b]||!1,c?(d&&c(d),!!d):d},set:function(a,b,c){2===arguments.length&&(b=a,c=b,a=null),a=(a||this.defaultType)+"",b+="",this.data[a]||(this.data[a]={}),this.data[a][b]=c},proxySet:function(a,b,c,d){var e=this;return function(){e.set(a,b,arguments[d||0]),c&&c.apply(c,arguments)}},each:function(a){return puredom.foreach(this.data,a)}}),a}(),json:function(){var a=function(b){return"string"===puredom.typeOf(b)?a.parse(b):a.stringify(b)};return a.stringify=function(a){var b;try{b=JSON.stringify(a)}catch(c){puredom.log("puredom.json:: Stringify failed: "+c+" | "+a)}return b},a.parse=function(a){var b;if("string"==typeof a&&a.length>0)try{b=JSON.parse(a)}catch(c){puredom.log("puredom.json:: Parse failed: "+c+" | "+a)}return b},a.serialize=a.stringify,a.unserialize=a.parse,a}(),xml:{parse:function(a){var b;return window.DOMParser?b=(new window.DOMParser).parseFromString(a,"text/xml"):(b=new window.ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)),b}}}),function(a){function b(a,b,c,d,e){var f,g,h,i=typeof c;if("object"===i&&c){for(g in c)c.hasOwnProperty(g)&&(h=a[b](g,c[g]),e&&e.push(h));return!0}if("string"===i&&c.indexOf(",")>-1){for(f=c.split(","),g=0;g<f.length;g++)h=a[b](f[g],d),e&&e.push(h);return!0}return!1}function c(a){return String(a).toLowerCase().replace(/(^on|\s+)/gim,"")}a.EventEmitter=function(){this._eventRegistry=[]};var d=a.EventEmitter.prototype;a.extend(d,{on:function(a,d){return a=c(a),b(this,"on",a,d)||this._eventRegistry.push({type:a,handler:d}),this},once:function(a,d){return a=c(a),b(this,"once",a,d)||this.on(a,function e(){return this.removeListener(a,e),d.apply(this,arguments)}),this},removeListener:function(a,d){var e,f;if(a=c(a),!b(this,"removeListener",a,d))for(e=this._eventRegistry.length;e--;)if(f=this._eventRegistry[e],f.type===a&&f.handler===d){this._eventRegistry.splice(e,1);break}return this},emit:function(a,d){var e,f,g,h=[];if(a=c(a),d=Array.prototype.slice.call(arguments,1),b(this,"emit",a,d,h))return Array.prototype.concat.apply([],h);for(e=this._eventRegistry.length;e--&&(f=this._eventRegistry[e],f.type!==a||(0===h.length&&(h.falsy=h.falsey=h.truthy=!0),g=f.handler.apply(this,d),h.push(g),g===!0?h.falsy=h.falsey=!1:g===!1&&(h.truthy=!1),g!==!1)););return h},fireEvent:function(a,b){return this.emit.apply(this,[a].concat(b))}}),a.forEach({addListener:"on",addEventListener:"on",removeEventListener:"removeListener",trigger:"emit"},function(a,b){d[b]=d[a]})}(puredom),puredom.date={now:Date.now?function(){return Date.now()}:function(){return+new Date},create:function(a){var b;return a?(a=(a+"").replace(/^([0-9]{4})\-([0-9]{2})\-([0-9]{2})T([0-9]{2})\:([0-9]{2})\:([0-9]{2})\.[0-9]{3}Z$/,"$1/$2/$3 $4:$5:$6"),b=new Date(a)):b=new Date,b},parse:function(a,b){function c(a,b){(b===!1||b===!0)&&(i.pm=b===!0),(a||0===a)&&(i.hours=a),a=i.hours,i.hours<12&&i.pm&&(a-=12);var c=h.getDate();12===i.hours&&i.pm===!1?(0!==h.getHours()||"boolean"==typeof b)&&h.setHours(0):(h.setHours(a),h.setDate(c))}function d(a){return f[1](a),""}b=b||"%d/%m/%Y";var e,f,g,h=new Date(0),i={},j={H:[/^[0-9]{1,2}/g,function(a){a=Math.round(a),c(a)}],I:[/^[0-9]{1,2}/g,function(a){a=Math.round(a),c(a)}],p:[/^[AP]M/gi,function(a){c(null,"pm"===a.toLowerCase())}],M:[/^[0-9]{1,2}/g,function(a){h.setMinutes(Math.round(a))}],a:[/^(Mon|Tue(s?)|Wed|Thu|Fri|Sat|Sun)/i,function(){}],A:[/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday)/i,function(){}],d:[/^[0-9]{1,2}/g,function(a){i.date=Math.round(a),h.setDate(i.date)}],m:[/^[0-9]{1,2}/g,function(a){i.month=Math.round(a)-1,h.setMonth(i.month)}],B:[new RegExp("^("+this.months.join("|")+")","gi"),function(a){i.month=date._getMonthIndex(a),h.setMonth(i.month)}],b:[/^(Jan|Feb|Mar|Apr|May|Jun(e?)|Jul(y?)|Aug|Sep(t?)|Oct|Nov|Dec)/gi,function(a){i.month=date._getMonthIndex(a),h.setMonth(i.month)}],y:[/^[0-9]{2}/g,function(a){a=Math.round(a)+1900,1950>a&&(a+=100),h.setFullYear(a)}],Y:[/^[0-9]{4}/g,function(a){i.year=Math.round(a),h.setFullYear(i.year)}]};for(j.l=j.I,j.e=j.d,j.P=j.p,j.h=j.b,e=0;e<b.length;e++)if("%"===b.charAt(e)){f=null," "===a.charAt(0)&&"%"===b.charAt(e)&&(a=a.substring(1));for(g in j)if(j.hasOwnProperty(g)&&b.substring(e+1,e+1+g.length)===g){f=j[g],a=a.replace(f[0],d),e+=f.length-1;break}}else a.charAt(0)===b.charAt(e)&&(a=a.substring(1));return(i.month||0===i.month)&&h.setMonth(i.month),(i.year||0===i.year)&&h.setFullYear(i.year),h},unformat:function(){return this.parse.apply(this,arguments)},format:function(a,b){if(b=b||"%d/%m/%Y",!a||a.constructor!==Date||!a.toDateString)return!1;var c=a.toDateString();if(!c||"invalid date"===c.toLowerCase())return!1;if("NaN"===c)return!1;var d=c.split(" "),e=a.getHours(),f=(e+11)%12+1,g=a.getMonth()+1,h={H:e,I:(10>f?"0":"")+f,l:f,p:e>11?"PM":"AM",P:e>11?"pm":"am",M:(a.getMinutes()<10?"0":"")+a.getMinutes(),S:(a.getSeconds()<10?"0":"")+a.getSeconds(),a:d[0],A:this.weekdays[a.getDay()],d:d[2],e:Math.round(d[2]),m:(10>g?"0":"")+g,B:this.months[Math.round(d[1])],b:d[1],h:d[1],y:d[3].substring(2),Y:d[3]};return b.replace(/%[HIlpPMSaAdemBbhyY]/gm,function(a){var b=h[a.charAt(1)+""];return b||0===b||b===!1?b:a})},_getMonthIndex:function(a){a=a.substring(0,3).toLowerCase();for(var b=0;b<this.months.length;b++)if(this.months[b].substring(0,3).toLowerCase()===a)return b;return-1},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]},puredom.net=puredom.extend(new puredom.EventEmitter,{HttpRequest:function(a){puredom.extend(this,a)},get:function(a,b,c){return this.request(puredom.extend({url:a,method:"GET"},c||{}),b)},post:function(a,b,c,d){return this.request(puredom.extend({url:a,method:"POST",body:b},d||{}),c)},request:function(a,b){function c(){var a,b,c,f,g=d.request,h={json:"JSON",document:"XML"},i=/^([a-z\-\.\_])\s*?\:/gim;if(4===g.readyState){for(e.fireEvent("before:response",d),d.status=g.status,d.responseType="text",g.responseType&&"text"!==g.responseType||(d.responseText=d.response=g.responseText),d.responseHeaders={},i.lastIndex=0,a=g.getAllResponseHeaders();f=i.exec(a);)d.responseHeaders[f[1].toLowerCase()]=g.getResponseHeader(f[1]);if(d.contentTypeOverride)b=d.contentTypeOverride.toLowerCase();else{try{b=(g.getResponseHeader("Content-Type")||"").toLowerCase().split(";")[0]}catch(j){}b=b||""}if(c=g.responseType)d.responseType=c,d.response=g.response,f="response"+(h[c]||c.charAt(0).toUpperCase()+c.substring(1)),d[f]=d.response;else if(b.match(/(^|\/)(json|javascript)$/gm)){d.responseType="json";try{d.response=d.responseJSON=JSON.parse(g.responseText.replace(/^[^\[\{]*(.*)[^\[\{]*$/g,"$1"))}catch(k){d.jsonParseError=k}}else("application/xml"===b||"xml"===b)&&(d.responseType="document",d.response=d.responseXML=g.responseXML);"function"==typeof d.callback&&d.callback(0!==d.status&&d.status<400,d.response,d)}}var d,e=this;return a=a||{},a.url?(!a.method&&a.type&&(a.method=a.type,console.warn("puredom.net.request: The `type` option is deprecated. Use `method`.")),!a.body&&a.post&&(a.body=a.post,console.warn("puredom.net.request: The `post` option is deprecated. Use `body`.")),d=new puredom.net.HttpRequest({url:a.url,type:a.method||(a.body?"POST":"GET"),callback:b||a.callback,body:a.body,headers:{"content-type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}}),a.headers&&puredom.forEach(a.headers,function(a,b){var c=d.headers;b=String(b).toLowerCase(),void 0===a||null===a?delete c[b]:c[b]=String(a)}),a.contentTypeOverride&&(d.contentTypeOverride=a.contentTypeOverride,delete a.contentTypeOverride),a.responseType&&(d.responseType=a.responseType),a=b=null,this.createXHR(d,function(a){d.xhr=a,d.request=a,a.onreadystatechange=c,a.open(d.type,d.url,d.async!==!1),d.responseType&&(a.responseType=d.responseType),puredom.forEach(d.headers,function(b,c){a.setRequestHeader(c,b)}),!d.bodySerialized&&d.body&&"object"===puredom.typeOf(d.body)&&e.serializeRequestBody(d),a.send(d.bodySerialized||d.body||null)}),d):!1},requestSerializers:{json:puredom.json,xml:puredom.xml,"form-encoded":puredom.querystring},serializeRequestBody:function(a){var b=(a.headers["content-type"]||"application/x-www-form-urlencoded").toLowerCase();puredom.forEach(this.serializers,function(c,d){return b.indexOf(d)>-1?(a.bodySerialized=(c.stringify||c.encode||c)(a.body),!1):void 0})},createXHR:function(a,b,c){var d;if(c=c||window,c.XMLHttpRequest)d=new c.XMLHttpRequest;else try{d=new c.ActiveXObject("Msxml2.XMLHTTP")}catch(e){d=new c.ActiveXObject("Microsoft.XMLHTTP")}return b(d),d}}),puredom.net.jsonp=function(){var a=function(){return a.get.apply(a,arguments)},b=0;return a.get=function(a,c,d){var e,f,g,h;return"function"===puredom.typeOf(c)&&(d&&"object"===puredom.typeOf(d)&&(h=d),d=c,h&&(c=h)),c=c||{},c.callback&&!d&&(d=c.callback),c.timeout||(c.timeout=10),(a=a||c.url)?(c.params&&puredom.parameterize&&(a+=(a.indexOf("?")>-1?"&":"?")+puredom.querystring.stringify(c.params)),b+=1,c.callback=g="puredom_net_jsonp_"+b,function(){window[c.callback]=function(a){var b;if(d){try{d(a)
}catch(c){b=c}d=null}if(f&&(f.stop(),f=null),b)throw b}}(),a.indexOf("{!callback}")>-1?a=a.replace("{!callback}",g):a+=(a.indexOf("?")<0?"?":"&")+encodeURIComponent(c.callbackParam||"callback")+"="+encodeURIComponent(g),this._head||(h=document.getElementsByTagName("head"),this._head=h&&h[0]),e=puredom.el({type:"script",attributes:{src:a,async:"async",type:"text/javascript"},parent:this._head||document.body}),f={id:g,stop:function(){f._timer&&clearTimeout(f._timer),window[g]=null;try{delete window[g]}catch(a){}d=null,e.attr("src","about:blank").remove(),g=f=e=null}},c.timeout&&c.timeout>0&&(f._timer=setTimeout(function(){d&&d({_requestTimedOut:!0,_jsonpTimedout:!0,success:!1,result:!1}),f&&f.stop()},Math.round(1e3*c.timeout))),a=c=h=null,f):!1},a}(),puredom.LocalStorage=function(a,b,c){var d=this;"function"==typeof arguments[2]&&(b=arguments[2],c=arguments[1]),c=c||{},this.id=a,this.adapter=null,this.data={},c.adapter&&this.setAdapter(c.adapter),this.adapter||c.useBest===!1||this.useBestAdapter(),this.adapter&&c.restore!==!1?this.restore(function(){b&&b(d),d=c=null}):b&&(b(d),d=null)},puredom.LocalStorage.prototype.commitDelay=100,puredom.LocalStorage.prototype.data={},puredom.LocalStorage.prototype.setAdapter=function(a){var b,c=this.constructor.adapters,d=(a+"").toLowerCase().replace(/adapt[eo]r$/g,""),e=!1,f=!1;for(b in c)if(c.hasOwnProperty(b)&&(b+"").toLowerCase().replace(/adapt[eo]r$/g,"")===d&&(e=!0,c[b].test(this)===!0)){f=!0,this.adapterName=a,this.adapter=c[b];break}return e?f?!0:(puredom.log('puredom.LocalStorage :: "'+a+'" adapter test() failed: conditions for adapter use not met.'),!1):(puredom.log('puredom.LocalStorage :: Could not find "'+a+'" adapter.'),!1)},puredom.LocalStorage.prototype.getAdapter=function(){return this.adapterName},puredom.LocalStorage.prototype.useBestAdapter=function(){var a,b,c,d=this.constructor.adapters;for(c in d)d.hasOwnProperty(c)&&"none"!==c&&d[c].test(this)===!0&&(!a||(Math.round(a.rating)||0)<(Math.round(d[c].rating)||0))&&(a=d[c],b=c);return a?(this.adapterName=b,this.adapter=a,!0):(setTimeout(function(){throw"puredom.LocalStorage :: Could not find the best adapter."},1),!1)},puredom.LocalStorage.prototype.getNamespace=function(a){var b,c=this;return a+="","."===a.substring(0,1)&&(a=a.substring(1)),"."===a.substring(a.length-1)&&(a=a.substring(0,a.length-1)),b=puredom.extend(new puredom.LocalStorage.NamespacedLocalStorage,{getAdapter:function(){return c.getAdapter()},getNamespace:this.getNamespace,getValue:function(b){return c.getValue(a+"."+b)},setValue:function(b,d){return c.setValue(a+"."+b,d),this},removeKey:function(b){return c.removeKey(a+"."+b),this},purge:function(){return c.removeKey(a),this},getData:function(){return c.getValue(a)},restore:function(a){var b,d=this;return a&&(b=function(){a(d),d=b=a=null}),c.restore(b),this},commit:function(a){var b,d=this;return a&&(b=function(){a(d),d=b=a=null}),c.commit(b),this}}),puredom.extend(b,{get:b.getValue,set:b.setValue,remove:b.removeKey}),b},puredom.LocalStorage.prototype.getData=function(){return this.data},puredom.LocalStorage.prototype.getValue=function(a){var b=puredom.delve(this.data,a);return b},puredom.LocalStorage.prototype.setValue=function(a,b){var c,d=this.data,e=a.split(".");for(c=0;c<e.length-1;c++)d.hasOwnProperty(e[c])||(d[e[c]]={}),d=d[e[c]];return void 0===b||null===b?(d[e[e.length-1]]=null,delete d[e[e.length-1]]):d[e[e.length-1]]=b,this.queueCommit(),this},puredom.LocalStorage.prototype.removeKey=function(a){return this.setValue(a,void 0),this},puredom.LocalStorage.prototype.get=puredom.LocalStorage.prototype.getValue,puredom.LocalStorage.prototype.set=puredom.LocalStorage.prototype.setValue,puredom.LocalStorage.prototype.remove=puredom.LocalStorage.prototype.removeKey,puredom.LocalStorage.prototype.purge=function(){return this.data={},this.queueCommit(),this},puredom.LocalStorage.prototype.restore=function(a){var b,c,d=this;return b=this._adapterCall("load",function(b){d.data=c=b||{},a&&a(d),d=null}),b&&!c&&(this.data=b,a&&a(this)),b=c=null,this},puredom.LocalStorage.prototype.commit=function(a){var b=this;return this._commitTimer&&(clearTimeout(this._commitTimer),this._commitTimer=null),this._adapterCall("save",this.data,function(){a&&a(b),b=null}),this},puredom.LocalStorage.prototype.queueCommit=function(){var a=this;this._commitTimer||(this._commitTimer=setTimeout(function(){a.commit(),a=null},this.commitDelay))},puredom.LocalStorage.prototype._adapterCall=function(a){return this.adapter&&this.adapter[a]?this.adapter[a].apply(this.adapter,[this].concat(puredom.toArray(arguments).slice(1))):void 0},puredom.LocalStorage.NamespacedLocalStorage=function(){},puredom.LocalStorage.adapters={},puredom.LocalStorage.addAdapter=function(a,b){if(!b.save)throw'puredom.LocalStorage :: Adapter "'+a+'" attempted to register, but does not provide a save() method.';if(!b.load)throw'puredom.LocalStorage :: Adapter "'+a+'" attempted to register, but does not provide a load() method.';this.adapters[a]=b},puredom.LocalStorage.adapters.none=function(){},puredom.extend(puredom.LocalStorage.adapters.none.prototype,{defaultName:"db",rating:0,test:function(){return!1},load:function(a,b){b&&b()},save:function(a,b,c){c&&c(!1)}}),puredom.LocalStorage.addAdapter("CookieAdapter",{defaultName:"db",rating:5,test:function(){return puredom.cookies&&puredom.cookies.get&&"cookie"in document?!0:!1},load:function(a,b){var c,d=puredom.cookies.get(a.id||this.defaultName);return d&&(c=puredom.json(d)),b&&b(c),c},save:function(a,b,c){puredom.cookies.set(a.id||this.defaultName,puredom.json(b)),c&&c(!0)}}),puredom.LocalStorage.addAdapter("LocalStorageAdapter",{defaultName:"db",rating:60,test:function(){var a,b="localStorage"in window&&"function"==typeof window.localStorage.hasOwnProperty,c=puredom.json({a:"a",b:4/3,c:!0,d:null});if(b)try{a=localStorage.__test,localStorage.__test=c,localStorage.__test!==c&&(b=!1),localStorage.__test=a,void 0===a&&delete localStorage.__test}catch(d){b=!1}return b},load:function(a,b){var c,d=this._getKey(a);return localStorage.hasOwnProperty(d)&&(c=puredom.json.parse(localStorage[d])),b&&b(c),c},save:function(a,b,c){var d=this._getKey(a);return void 0===b?delete localStorage[d]:localStorage[d]=puredom.json.stringify(b),c&&c(!0),!0},_getKey:function(a){return(a.id||this.defaultName||"")+""}}),puredom.LocalStorage.addAdapter("UserDataAdapter",{defaultName:"db",rating:20,test:function(){return/\bMSIE\s[1-6](\.[0-9]*)?/gim.test(navigator.userAgent+"")?!1:"undefined"!=typeof document.body.addBehavior},load:function(a,b){var c,d,e=this._getKey(a),f=this._getStore(e);return f&&(c=f.getAttribute("puredomlocalstorage")),c&&(d=puredom.json.parse(c)),b&&b(d),d},save:function(a,b,c){var d=this._getKey(a),e=this._getStore(d),f="puredomlocalstorage",g=!1;return e&&"save"in e&&(void 0===b?e.removeAttribute?e.removeAttribute(f):e.setAttribute(f,""):e.setAttribute(f,puredom.json.stringify(b)),e.save(d),g=!0),c&&c(g),g},_getStore:function(a){var b;return this.stores||(this.stores={}),b=this.stores[a],b||(b=this.stores[a]=document.getElementById(a),b||(b=this.stores[a]=document.createElement("span"),b.style.position="absolute",b.style.top="-100px",b.style.left="0",b.style.behavior="url('#default#userData')",document.body.appendChild(b))),"true"!==b.getAttribute("data-tdlsud-loaded")&&(b.setAttribute("data-tdlsud-loaded","true"),b.load(a)),b},_getKey:function(a){return"ieud"+(a.id||this.defaultName||"")}});