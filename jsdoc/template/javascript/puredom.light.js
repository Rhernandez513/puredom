if(!this.JSON)this.JSON={};
(function(){function b(b){return b<10?"0"+b:b}function g(b){i.lastIndex=0;return i.test(b)?'"'+b.replace(i,function(a){var f=h[a];return typeof f==="string"?f:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function d(b,a){var f,c,j,e,h=k,i,o=a[b];o&&typeof o==="object"&&typeof o.toJSON==="function"&&(o=o.toJSON(b));typeof m==="function"&&(o=m.call(a,b,o));switch(typeof o){case "string":return g(o);case "number":return isFinite(o)?String(o):"null";case "boolean":case "null":return String(o);
case "object":if(!o)return"null";k+=l;i=[];if(Object.prototype.toString.apply(o)==="[object Array]"){e=o.length;for(f=0;f<e;f+=1)i[f]=d(f,o)||"null";j=i.length===0?"[]":k?"[\n"+k+i.join(",\n"+k)+"\n"+h+"]":"["+i.join(",")+"]";k=h;return j}if(m&&typeof m==="object"){e=m.length;for(f=0;f<e;f+=1)c=m[f],typeof c==="string"&&(j=d(c,o))&&i.push(g(c)+(k?": ":":")+j)}else for(c in o)Object.hasOwnProperty.call(o,c)&&(j=d(c,o))&&i.push(g(c)+(k?": ":":")+j);j=i.length===0?"{}":k?"{\n"+k+i.join(",\n"+k)+"\n"+
h+"}":"{"+i.join(",")+"}";k=h;return j}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,l,h={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;if(typeof JSON.stringify!=="function")JSON.stringify=function(b,a,f){var c;l=k="";if(typeof f==="number")for(c=0;c<f;c+=1)l+=" ";else typeof f==="string"&&(l=f);if((m=a)&&typeof a!=="function"&&(typeof a!=="object"||typeof a.length!=="number"))throw Error("JSON.stringify");return d("",
{"":b})};if(typeof JSON.parse!=="function")JSON.parse=function(b,a){function f(c,b){var d,e,n=c[b];if(n&&typeof n==="object")for(d in n)Object.hasOwnProperty.call(n,d)&&(e=f(n,d),e!==void 0?n[d]=e:delete n[d]);return a.call(c,b,n)}var c,b=String(b);e.lastIndex=0;e.test(b)&&(b=b.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return c=eval("("+b+")"),typeof a==="function"?f({"":c},""):c;throw new SyntaxError("JSON.parse");}})();if(typeof Date.now!=="function")Date.now=function(){return(new Date).getTime()};window._previousPureDom=window.puredom;
window.puredom=function(){var b={baseAnimationInterval:20,allowCssTransitions:true,easingMethods:{ease:function(b){return(Math.sin(b*Math.PI-Math.PI/2)+1)/2},"ease-in-out":function(b){return(Math.sin(b*Math.PI-Math.PI/2)+1)/2},"ease-in-out-2":function(b){return this["ease-in-out"](this["ease-in-out"](b))},"ease-in-out-3":function(b){return this["ease-in-out"](this["ease-in-out"](this["ease-in-out"](b)))}}},g=false,d,e,i=b.constructor,k,l,h={oninit:[],animationTimes:{fast:150,medium:450,slow:1E3},
animationTimeScale:1,registeredEventCount:0,html5elements:"abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" "),support:{html5:true,querySelectorAll:!!("querySelectorAll"in document),filters:false,webkitMultitouch:!!("createTouch"in document)},regex:{css3AutoPrefix:/([\s\;\/\*])(box\-shadow|text\-shadow|border\-radius)\:([^\;]*)(\;|$)/gim,css3VendorPrefix:/\b\-(moz|webkit|ms|o|vendor)\-/gim,templateFieldToken:/([^\\]?)\{([a-z0-9A-Z\$_\.]+)(\|[^\}]*?)?\}/gm,
parseObjectNameFromString:/^\[object ([^\s]+)\]$/gim,autoDetectHTMLContent:/(<[a-z]|&[a-z#0-9]{1,10};)/gim,whitespaceCharacters:/\s/,getNumericCSSValue:/[^0-9\.\-]/gm,getCSSValueUnits:/([a-z]+|%)$/,getNonIntegerCharsSigned:/[^0-9\.\-]/gm,getUpperCaseAlphaChars:/[A-Z]/gm}};if(navigator.userAgent.match(/\b(iOS|Android|WebOS|iPhone|iPod|iPad)\b/gim))b.allowCssTransitions=false,b.baseAnimationInterval=50,h.animationTimeScale=1.5;if(navigator.userAgent.match(/\b(webkit|applewebkit|chrome|chromium|khtml)\b/gim))d=
"-webkit",e="Webkit";else if(navigator.userAgent.match(/\bopera\b/gim))d="-o",e="O";else if(navigator.userAgent.match(/\bgecko\b/gim))d="-moz",e="Moz";else if(navigator.userAgent.match(/\bmsie\s*?(8|9|[1-9][0-9]+)\b/gim))d="-ms",e="Ms";else if(navigator.userAgent.match(/\bmsie\s*?[4-8]\b/gim))h.support.filters=true,h.support.filterProperty="filter";(function(b,a){b=document.createElement("div");b.innerHTML="<nav></nav>";h.support.html5=b.childNodes.length>0;if(!h.support.html5){h.html5frag=document.createDocumentFragment();
for(a=h.html5elements.length;a--;)h.html5frag.createElement(h.html5elements[a]);h.html5div=document.createElement("div");h.html5frag.appendChild(h.html5div)}})();l=function(){var b=document.body;k=b.textContent!==void 0&&"textContent"||b.innerText&&"innerText"||"innerHTML";l=null;return k};b.extend=function(b){var a,f,c,b=b||{};for(a=1;a<arguments.length;a++)if(c=arguments[a]){for(f in c)c.hasOwnProperty(f)&&(b[f]=c[f]);if(typeof c.toString==="function"&&c.toString!==Object.prototype.toString)b.toString=
c.toString}return b};b.mixin=function(b){var a,f,c,b=b||{};for(a=1;a<arguments.length;a++)if(c=arguments[a])for(f in c)c.hasOwnProperty(f)&&!b.hasOwnProperty(f)&&(b[f]=c[f]);return b};b.strip=function(b,a){for(var f in b)if(a===true||b.hasOwnProperty(f))b[f]=null};b.delve=function(b,a,f,c){var j=0,a=a.split(".");for(f===true&&a.splice(0,1);j<a.length&&b&&b.hasOwnProperty(a[j]);)b=b[a[j]],j+=1;if(j>=a.length||c===true&&j>0)return b};b.flattenObj=function(d,a,f,c){var j,e,a=a||"",f=f||0,c=c||{};for(j in d)d.hasOwnProperty(j)&&
(e=a?a+"_"+j:j,b.isScalar(d[j])?c[e]=d[j]:b.flattenObj(d[j],e,f+1,c));if(!f)return c};b.template=function(d,a,f){var c;if(f!==false&&b.i18n)c=b.i18n;return(d+"").replace(h.regex.templateFieldToken,function(f,d,e,h){d!=="\\"&&e?(f=b.delve(a,e))?(c&&(f=c(f)||f),h&&h.substring(0,1)==="|"&&(f=b.text.filter(f,h.substring(1))),f=d+f):f=d:f=d;return f})};b.inherits=function(b,a){function f(){}f.prototype=a.prototype;var c=b.prototype;b.prototype=new f;puredom.extend(b.prototype,c);b.prototype.constructor=
b;b.prototype.__super=a};b.typeOf=function(b){if(b===void 0)return"undefined";else if(b===null)return"null";else if(b)if(b.constructor===i)return"object";else if(Object.prototype.toString.call(b)==="[object Array]")return"array";return Object.prototype.toString.call(b).replace(h.regex.parseObjectNameFromString,"$1").toLowerCase()};b.isScalar=function(d){d=b.typeOf(d);return d==="undefined"||d==="null"||d==="number"||d==="string"||d==="boolean"?true:false};if(!Array.prototype.indexOf||[b].indexOf(b)!==
0)try{Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++)if(this[a]===b)return a;return-1}}catch(m){}b.toArray=function(b){var a=[],f=b&&b.length;if(f||f===0)for(;f--;)a[f]=b[f];else for(f=0;;){if(b.hasOwnProperty&&b.hasOwnProperty(f))a.push(b[f]);else if(b.hasOwnProperty&&b.hasOwnProperty(f+""))a.push(b[f+""]);else break;f+=1}return a};b.isArray=function(d){return b.typeOf(d)==="array"};b.hasOwnProperty=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};b.forEach=b.foreach=
function(d,a){var f,c;if(b.isArray(d))for(f=0;f<d.length;f++){if(c=a(d[f],f),c===false)break}else for(f in d)if(d.hasOwnProperty(f)&&(c=a(d[f],f),c===false))break;return d};b.setInnerHTML=function(b,a){var f,c;if(h.support.html5)b.innerHTML=a||"";else{b.innerHTML="";h.html5div.innerHTML=a||"";f=document.createDocumentFragment();for(c=h.html5div.childNodes.length;c--;)f.appendChild(h.html5div.firstChild);b.appendChild(f)}};b.createElement=function(e,a){var f,c,j,z,e=e||{};f=document.createElement(e.type||
"div");a=a||e.parent;if(e.insertBefore&&e.insertBefore.constructor===b.NodeSelection)e.insertBefore=e.insertBefore._nodes[0];if(!a&&e.insertBefore)a=e.insertBefore.parentNode;for(c in e)if(b.hasOwnProperty(e,c))if((c+"").substring(0,2).toLowerCase()==="on")b.addEvent(f,c.substring(2),e[c]);else if(c==="css"||c==="cssText")d&&(e[c]=e[c].replace(h.regex.css3AutoPrefix,"$1"+d+"-$2:$3; $2:$3;"),e[c]=e[c].replace(h.regex.css3VendorPrefix,"-"+d+"-")),f.style.cssText=e[c];else if(c==="html"||c==="innerHTML")b.setInnerHTML(f,
e[c]);else if(c==="attributes")for(j in e[c])b.hasOwnProperty(e[c],j)&&f.setAttribute(j,e[c][j]);else if(c!=="parent"&&c!=="children"&&c!=="insertBefore"&&c!=="type"&&c!=="children"&&c!=="html"&&c!=="innerHTML")if(document.all)try{f[c]=e[c]}catch(g){b.log(c)}else f[c]=e[c];if(a){if(e.insertBefore)try{a.insertBefore(f,e.insertBefore),z=true}catch(i){z=false}z||a.appendChild(f)}if(e.children&&b.isArray(e.children)){j=document.createDocumentFragment();for(c=0;c<e.children.length;c++)b.createElement(e.children[c],
j);f.appendChild(j)}return f};b.NodeSelection=function a(f){var c;this._results=[];this._nodes=[];this._animations=[];if(f)if(b.isArray(f))for(c=0;c<f.length;c++)f[c]&&(f[c].constructor===a&&f[c]._nodes?this._nodes.push(f[c]._nodes[0]):this._nodes.push(f[c]));else this._nodes.push(f)};b.extend(b.NodeSelection.prototype,{_results:[],_nodes:[],_animations:[],describe:function(){var a=[];this.each(function(b){var c="<"+b.nodeName(),j=b.prop("id"),d=b.prop("className");j&&(c+=' id="'+j+'"');d&&(c+=' class="'+
d+'"');c+=">";c+=b._nodes[0].childNodes.length===1&&b._nodes[0].childNodes[0].nodeType===3?b.text().replace(/(\r|\n)/gim,decodeURIComponent("%E2%86%A9")).replace(/\t/gim,decodeURIComponent("%E2%86%92")):"["+b.children().count()+" children]";c+="</"+b.nodeName()+">";a.push(c)});return a},toString:function(){return this.describe().join(", ")},toSource:function(){return this._nodes},getResult:function(a){a=Math.round(a)||0;return this._results[this._results.length-a-1]},pushResult:function(a){this._results.push(a);
return this},each:function(a){return this._each(a,true)},_each:function(a,f,c){var j=this._nodes.slice(0,this._nodes.length),d,e,h;for(d=0;d<j.length;d++)e=d,c===true&&(e=j.length-e-1),h=j[e],f===true&&(h=new b.NodeSelection(h)),a.call(this,h,e);return this},wait:function(a,b){var c=this;b&&setTimeout(function(){b.apply(c);c=b=null},Math.abs(a));return this},nodeName:function(){var a=this._nodes[0],b=a&&a.nodeName&&a.nodeName.toLowerCase();if(a===window)return"#window";else if(b)return b;return null},
uuid:function(){return this._nodes[0]&&h.nodeToId(this._nodes[0])||null},text:function(a){if(arguments.length===0)return this._nodes[0]&&this._nodes[0][k||l()]||"";a+="";this._each(function(b){b[k||l()]=a});return this},html:function(a,f){if(arguments.length===0)return this._nodes[0]&&this._nodes[0].innerHTML||"";a+="";h.regex.autoDetectHTMLContent.lastIndex=0;h.regex.autoDetectHTMLContent.test(a)&&f!==true?this._each(function(f){b.setInnerHTML(f,a)}):this._each(function(b){b[k||l()]=a});return this},
css:function(a,f){var c,j=this,f=f||{};c=b.typeOf(f.tween);if(c==="string"&&f.tween!=="none"||c==="number"&&f.tween>0){c=(f.tween+"").replace(h.regex.whitespaceCharacters,"").split(",");var d,e,g=0,o=0;e=function(a){o+=1;o>=g&&(e=null,f.callback&&f.callback(a),j=null)};for(d in a)a.hasOwnProperty(d)&&(g+=1,this.animateCss(d,a[d],c[0],c[1],e))}else this._each(function(f){b.applyCss(f,a)}),f.callback?setTimeout(function(){f.callback(j);j=null},1):j=null;return this},show:function(){this.css({display:"",
visibility:"visible"});this._each(function(a){if(a.style.display==="none"||b.nodeStyle(a,"display")==="none")a.style.display="block"});return this},hide:function(a){return this.css(a===false?{visibility:"hidden"}:{display:"none"})},fadeIn:function(a,f){var c=parseFloat(this.getStyle("opacity")||"0")||0,j=1;if(this.getStyle("display")==="none"||this.getStyle("visibility")==="hidden")this.getStyle("opacity")&&c>0&&c<1&&(j=c),c=0,this.css({opacity:0});b.typeOf(a)==="function"&&(a=f=a);if(c>=1||a==0||
a===false)return this.css({opacity:j}).show(),setTimeout(f,0),this;this.css({opacity:j},{tween:a||"medium",callback:function(b){f&&f(b);a=f=null}}).show();return this},fadeOut:function(a,f,c){var j=parseFloat(this.getStyle("opacity")||"1")||1;b.typeOf(a)==="function"&&(a=f=a);b.typeOf(f)==="boolean"&&(c=f,f=null,b.typeOf(c)==="function"&&(f=c));if(j<=0||this.getStyle("display")==="none"||this.getStyle("visibility")==="hidden"||a===0||a===false)return this.css({opacity:0}).hide(c),setTimeout(f,0),
this;this.css({opacity:0},{tween:a||"medium",callback:function(b){b.hide(c).css({opacity:j});f&&f(b);a=f=null}});return this},animateCSS:function(){var a,f,c,j;a=function(a,f,c,j,d){var e=[],g=[],i,k,m,a=a.toLowerCase();f!=="auto"?(i=parseFloat((f+"").replace(h.regex.getNumericCSSValue,""))||0,k=(m=b.typeOf(f)==="string"&&f.match(h.regex.getCSSValueUnits))&&m[0]||"px",a==="opacity"&&(k="")):k=a==="opacity"?"":"px";this._each(function(c,j){var d,o;d={};var m;e[j]=parseFloat((b.nodeStyle(c,a)+"").replace(h.regex.getNonIntegerCharsSigned,
""))||0;if(f==="auto"||f===""){m=c.style.visibility||"";d[a]=f;d.visibility="hidden";b.applyCss(c,d);d=b.nodeStyle(c,a);if(d===f||d.indexOf("px")<d.length-3)d=a.substring(0,1).toUpperCase()+a.substring(1).toLowerCase(),d=c["offset"+d]+"px";o=b.typeOf(d)==="string"&&d.match(h.regex.getCSSValueUnits);g[j]={_actualTarget:f,numericTargetValue:parseFloat((d+"").replace(h.regex.getNumericCSSValue,""))||0,units:a==="opacity"?"":o&&o[0]||"px"};setTimeout(function(){c.style.visibility=m;c=null},51);d=d=o=
null}else g[j]={numericTargetValue:i,units:k}});return this.animate(function(f){this._each(function(c,j){var d={},h=f*(g[j].numericTargetValue-e[j])+e[j],o=g[j].units;o==="px"?h=Math.round(h):(h=parseFloat(h),h=h%1===0?Math.round(h):h.toFixed(2));d[a]=h+o;b.applyCss(c,d)})},c,j,function(f){f._each(function(f,c){var j={};if(g[c]._actualTarget)j[a]=g[c]._actualTarget,b.applyCss(f,j)});d.apply(f,arguments)})};f=function(a,f,c,j,d){var e=this._createAnimationObj(function(){},c,j,d),g=this,i={},k={},a=
(a+"").replace(h.regex.getUpperCaseAlphaChars,"-$1").toLowerCase();b.typeOf(f)==="number"&&(a+"").toLowerCase()!=="opacity"&&(f+="px");i[a]={duration:e.duration,timingFunction:e.easing};k[a]=f;setTimeout(function(){g._each(function(a){b.updateCssTransitions(a,i);b.applyCss(a,k);h.incrementAnimationCount(a)});e._cb=function(){if(e){var f={};f[a]=null;g._each(function(a){b.updateCssTransitions(a,f);h.decrementAnimationCount(a)});e.callback&&e.callback(g);for(var c in e)if(e.hasOwnProperty(c))try{delete e[c]}catch(j){}}e=
k=d=g=null};setTimeout(e._cb,(parseInt(e.duration,10)||0)+20)},10)};j=function(){return c=document.body.style[e+"Transition"]!==void 0||document.body.style.transition!==void 0};return function(d){b.typeOf(c)!=="boolean"&&j();b.allowCssTransitions!==false&&c?f.apply(this,arguments):a.apply(this,arguments);return this}}(),animate:function(a,f,c,j){if(a){var d=this,e=this._createAnimationObj.apply(this,arguments),g;this._each(function(a){h.incrementAnimationCount(a)});g=function(a){e.frameTime=a;e.position=
e.frameTime-e.start;e.fraction=e.position/e.duration;if(e.position>=e.duration)e.fraction=1,e.position=e.duration;else if(e.easingMethod)e.fraction=e.easingMethod.call(b.easingMethods,e.fraction,e);e.animator.call(d,e.fraction,e);if(e.fraction===1){for(a=d._animations.length;a--;)if(d._animations[a]===e){d._animations.splice(a,1);break}e.callback&&setTimeout(function(){d._each(function(a){h.decrementAnimationCount(a)});e.callback.call(d,d,e);d=e=null},10)}else e.timer=b.animationFrame.getTimer(g,
b.baseAnimationInterval||10)};b.animationFrame.getTimer(g,b.baseAnimationInterval||10);this._animations.push(e)}return this},_createAnimationObj:function(a,f,c,j){a={animator:a,duration:f,easing:b.typeOf(c)==="string"?c:"ease",callback:j,start:b.animationFrame.getStartTime(),frameTime:null};if(b.typeOf(a.duration)==="string")switch(a.duration.toLowerCase()){case "long":case "slow":a.duration=h.animationTimes.slow;break;case "short":case "fast":a.duration=h.animationTimes.fast;break;default:a.duration=
parseInt(a.duration)||h.animationTimes.medium}else a.duration=Math.round(a.duration)||h.animationTimes.medium;h.animationTimeScale&&(a.duration*=h.animationTimeScale);a.easing&&b.easingMethods.hasOwnProperty(a.easing)?a.easingMethod=b.easingMethods[a.easing]:a.easing=null;return a},classify:function(a){var f=[],c=arguments[0]==="{*^de^*}"?"removeClass":"addClass",j,d;for(j=0;j<arguments.length;j++)if(b.isArray(arguments[j]))for(d=0;d<arguments[j].length;d++)f.push(arguments[j][d]);else f.push(arguments[j]);
this._each(function(a){b[c](a,f)});return this},declassify:function(a){return this.classify.apply(this,["{*^de^*}"].concat(Array.prototype.slice.call(arguments,0)))},hasClass:function(a,b){var c=b!==true;this._each(function(j){j=(" "+j.className+" ").indexOf(" "+a+" ")>-1;b===true?j&&(c=true):j||(c=false)});return c},setOpacity:function(a){this._each(function(f){b.setOpacity(f,a)});return this},sumOf:function(a){var f=0,c=Array.prototype.slice.call(arguments,1);this.constructor.prototype.hasOwnProperty(a)&&
this._each(function(j){j=new b.NodeSelection(j);f+=j[a].apply(j,c)});return f},height:function(a,f){var c,j=0;b.typeOf(a)==="object"&&!f&&(f=a,a=null);f=f||{};if(a||a===0)return a+="",a==="auto"?c="":(c=/^([\-0-9\.]+)(.*?)$/.exec(a),a=Math.round(c&&c[1]||a)||0,c=c&&c[2]||"px"),this.css({height:a+c}),this;this._each(function(a){j+=parseInt(a.offsetHeight,10)||0;f.border===true&&(j+=parseInt((b.nodeStyle(a,"border-top-width")+"").replace(h.regex.getNonIntegerCharsSigned,""),10)||0,j+=parseInt((b.nodeStyle(a,
"border-bottom-width")+"").replace(h.regex.getNonIntegerCharsSigned,""),10)||0);f.margin===true&&(j+=parseInt((b.nodeStyle(a,"margin-top")+"").replace(h.regex.getNonIntegerCharsSigned,""),10)||0,j+=parseInt((b.nodeStyle(a,"margin-bottom")+"").replace(h.regex.getNonIntegerCharsSigned,""),10)||0);f.padding===false&&(j-=parseInt((b.nodeStyle(a,"padding-top")+"").replace(h.regex.getNonIntegerCharsSigned,""),10)||0,j-=parseInt((b.nodeStyle(a,"padding-bottom")+"").replace(h.regex.getNonIntegerCharsSigned,
""),10)||0)});return j},width:function(a,f){var c,j=0;b.typeOf(a)==="object"&&!f&&(f=a,a=null);f=f||{};if(a||a===0)return a+="",a==="auto"?c="":(a=(c=/^([\-0-9\.]+)(.*?)$/.exec(a))&&c[1]||a,c=c&&c[2]||"px"),this.css({width:a+c}),this;this._each(function(a){j+=parseInt(a.offsetWidth,10)||0;f.border===true&&(j+=parseInt((b.nodeStyle(a,"border-left-width")+"").replace(h.regex.getNonIntegerCharsSigned,""),10)||0,j+=parseInt((b.nodeStyle(a,"border-right-width")+"").replace(h.regex.getNonIntegerCharsSigned,
""),10)||0);f.margin===true&&(j+=parseInt((b.nodeStyle(a,"margin-left")+"").replace(h.regex.getNonIntegerCharsSigned,""),10)||0,j+=parseInt((b.nodeStyle(a,"margin-right")+"").replace(h.regex.getNonIntegerCharsSigned,""),10)||0);f.padding===false&&(j-=parseInt((b.nodeStyle(a,"padding-left")+"").replace(h.regex.getNonIntegerCharsSigned,""),10)||0,j-=parseInt((b.nodeStyle(a,"padding-right")+"").replace(h.regex.getNonIntegerCharsSigned,""),10)||0)});return j},x:function(a){var b=this._nodes[0],c=null;
if(b&&(c=b.offsetLeft,a===true))for(;(b=b.parentNode)&&b!==document;)c+=parseFloat(b.offsetLeft)||0;return c},y:function(a){var b=this._nodes[0],c=null;if(b&&(c=b.offsetTop,a===true))for(;(b=b.parentNode)&&b!==document;)c+=parseFloat(b.offsetTop)||0;return c},position:function(a,b,c,j){var d,j=j||"px";if(arguments.length<1||arguments.length===1&&arguments[0]===true)return{x:this.x(arguments[0]===true),y:this.y(arguments[0]===true)};else{d={};if(puredom.typeOf(a)==="number")d.left=a+j;else if(puredom.typeOf(a)===
"string")d.left=a;if(puredom.typeOf(b)==="number")d.top=b+j;else if(puredom.typeOf(b)==="string")d.top=b;this.css(d,c);return this}},scrollLeft:function(a){if(a||a===0)b.typeOf(a)!=="number"&&(a=Math.round((a+"").replace(h.regex.getNonIntegerCharsSigned,""))),this._each(function(b){b.scrollLeft=a});else return this._nodes&&this._nodes[0]&&this._nodes[0].scrollLeft||0},scrollTop:function(a){if(a||a===0)b.typeOf(a)!=="number"&&(a=Math.round((a+"").replace(h.regex.getNonIntegerCharsSigned,""))),this._each(function(b){b.scrollTop=
a});else return this._nodes&&this._nodes[0]&&this._nodes[0].scrollTop||0},focus:function(){this._each(function(a){a.focus&&a.focus()});return this},blur:function(){this._each(function(a){a.blur&&a.blur()});return this},selectAll:function(){this._each(function(a){a.SelectAll&&a.SelectAll();a.select&&a.select();if(a.selectionStart&&a.hasOwnProperty("value"))a.selectionStart=0,a.selectionEnd=a.value.length})},getStyle:function(a,f){var c=[];this._each(function(f){c.push(b.nodeStyle(f,a)||null)});return f===
false?(this.pushResult(c),this):c.length<=1?c[0]:c},value:function(a,f){f=f||{};if(a!==null&&a!==void 0&&arguments.length>0)return this._each(function(c){var d=(c.nodeName+"").toLowerCase(),e=(c.getAttribute("type")||"").toLowerCase();if(d==="input"&&(e==="checkbox"||e==="radio"))c.checked=!!a;c.value=a;f.fireChange!==false&&b.fireEvent({type:"change",target:c,value:a})}),this;else{var c=[];this._each(function(a){var f=(a.nodeName+"").toLowerCase(),d=(a.getAttribute("type")||"").toLowerCase(),e;f===
"input"&&(d==="checkbox"||d==="radio")?c.push(!!a.checked):f==="select"?(e=a.multiselect||a.multiSelect?[]:null,b.el(a).query("option")._each(function(a){if(a.selected||a.checked)b.isArray(e)?e.push(a.value):e=a.value}),c.push(e)):c.push(a.value)});return c.length<2?c[0]||null:c}},attr:function(a,f,c){var j=[],d,e;if(arguments.length===0){j={};for(d=this._nodes[0].attributes.length;d--;)e=this._nodes[0].attributes[d],j[e.name||e.nodeName]=e.value||e.nodeValue;return j}else if(arguments.length>1){if(b.typeOf(a)===
"object"){for(d in a)typeof d==="string"&&a.hasOwnProperty(d)&&this.attr(j,a[d]);return this}return this._each(function(b){try{b.setAttribute(a,f),b.removeAttribute&&(f===null||f===void 0)&&b.removeAttribute(a)}catch(c){}})}else{this._each(function(b){b=b.getAttribute(a);typeof b!=="string"&&(b=null);j.push(b)});return c===false?(this.pushResult(j),this):j.length<=1?j[0]:j}},prop:function(a,b,c){var d=[];if(arguments.length>1)return this._each(function(c){c[a]=b;if(b===void 0)try{delete c[a]}catch(d){}});
else{this._each(function(b){var c;try{c=b[a]}catch(f){console.log("NodeSelection.prop("+a+") :: Access Error",f)}d.push(c||null)});return c===false?(this.pushResult(d),this):d.length<=1?d[0]:d}},enable:function(){this.attr("disabled",null);this.declassify("_puredom_disabled");return this},disable:function(){this.attr("disabled","disabled");this.classify("_puredom_disabled");return this},enabled:function(a){return a===true||a===false?(this[a?"enable":"disable"](),this):this.attr("disabled")!=="disabled"&&
this.prop("disabled")!==true&&!this.hasClass("_puredom_disabled")},addEvent:function(a,f,c){this._each(function(d){b.addEvent(d,a,f,c)});return this},removeEvent:function(a,f,c){this._each(function(d){b.removeEvent(d,a,f,c)});return this},fireEvent:function(a,f){this._each(function(c){b.fireEvent(b.extend({},f||{},{type:a,target:c}))});return this},_removeAllEvents:function(a){var b;this._each(function(a){h.wrappedEventListener.destroyObjHandlers(a,true)});b=this.children();a===true&&b.count()>0&&
b._removeAllEvents(true);b=a=null;return this},appendChild:function(a){if(a&&this._nodes.length>0)if(a.constructor===this.constructor){var b=this._nodes[0];a._each(function(a){b.appendChild(a)})}else this._nodes[0].appendChild(a);return this},insertBefore:function(a,b){if(a&&this._nodes.length>0){b&&b.constructor===this.constructor&&(b=b._nodes[0]);if(!b||b.parentNode!==this._nodes[0])return this.appendChild(a);if(a.constructor===this.constructor){var c=this._nodes[0];a._each(function(a){c.insertBefore(a,
b)},null,true)}else this._nodes[0].insertBefore(a,b)}return this},insertInto:function(a){var b;a&&this.count()>0&&(a.constructor===this.constructor&&(a=a._nodes[0]),this.count()===1?a.appendChild(this._nodes[0]):(b=document.createDocumentFragment(),this._each(function(a){b.appendChild(a)},null,true),h.support.filters!==true&&a.appendChild(b)));return this},remove:function(){this.fireEvent("remove");this._each(function(a){a.parentNode&&a.parentNode.removeChild(a)});return this},destroy:function(){this.remove();
this.fireEvent("destroy");this._removeAllEvents(true);this._nodes.splice(0,this._nodes.length);return this},query:function(a,f){var c=[];this._nodes.length>0&&this._each(function(d){d=b.getElement(a,puredom.extend({},f||{},{within:d}));b.isArray(d)&&d.length>0&&(c=c.concat(d))});return new b.NodeSelection(c)},clone:function(a,f){var c=[];f===true&&(f=this.parent());this._each(function(b){c.push(b.cloneNode(a!==false))});c=new b.NodeSelection(c);f&&f.appendChild(c);c._each(h.removeNodeUID);a!==false&&
c.query("*")._each(h.removeNodeUID);return c},count:function(){return this._nodes.length},exists:function(){return this.count()>0},next:function(){for(var a=this._nodes[0]&&this._nodes[0].nextSibling;a&&a.nodeType===3;)a=a.nextSibling;return new b.NodeSelection(a&&[a]||null)},prev:function(){for(var a=this._nodes[0]&&this._nodes[0].previousSibling;a&&a.nodeType===3;)a=a.previousSibling;return new b.NodeSelection(a&&[a]||null)},previous:function(){return this.prev.apply(this,arguments)},firstChild:function(){return this.children().first()},
lastChild:function(){return this.children().last()},nthChild:function(a){return this.children().index(a)},first:function(a){return new b.NodeSelection(this._nodes.slice(0,a||1))},last:function(a){return new b.NodeSelection(this._nodes.slice(this._nodes.length-(a||1)))},index:function(a,f){return new b.NodeSelection(b.typeOf(a)==="number"&&this._nodes.slice(a,a+(f||1))||null)},siblings:function(){var a=new b.NodeSelection;this._each(function(b){for(var c=b;c=c.previousSibling;)c.nodeName!=="#text"&&
c.nodeName!=="#comment"&&c.nodeType!==3&&a._nodes.push(c);for(c=b;c=c.nextSibling;)c.nodeName!=="#text"&&c.nodeName!=="#comment"&&c.nodeType!==3&&a._nodes.push(c)});return a},parent:function(){var a=[],f;this._each(function(b){(f=b.parentNode)&&a.indexOf(f)<0&&f.nodeType!==11&&a.push(f)});return new b.NodeSelection(a)},children:function(){var a=[],f,c;if(this._nodes.length>0)for(f=0;f<this._nodes.length;f++)if(this._nodes[f].childNodes)for(c=0;c<this._nodes[f].childNodes.length;c++)this._nodes[f].childNodes[c].nodeType!==
3&&this._nodes[f].childNodes[c].nodeName!=="#text"&&this._nodes[f].childNodes[c].nodeName!=="#comment"&&a.push(this._nodes[f].childNodes[c]);return new b.NodeSelection(a)},submit:function(){this._each(function(a){var f=b.fireEvent({type:"submit",target:a});f.rval!==false&&f.returnValue!==false&&f.preventDefault!==true&&a.submit&&a.submit()})},selection:function(a,f){var c=this._nodes[0],d,e;if(a&&typeof a!=="number"&&a.start)f=a.end,a=a.start;if(typeof a==="number")a<0&&(a=0),e=c.value.length,f>e&&
(f=e),a>f?a=f:f<a&&(f=a),window.getSelection?(c.selectionStart=a,c.selectionEnd=f):c.selectionEnd||c.selectionEnd===0?(c.selectionStart=a,c.selectionEnd=f):c.createTextRange&&(c=c.createTextRange(),c.collapse(true),c.moveStart("character",a),c.moveEnd("character",f),c.select());else return window.getSelection?(d=typeof c.value==="string"?c.value:c.innerHTML,e=window.getSelection(),{start:c.selectionStart+0,end:c.selectionEnd+0,text:d.substring(e.start,e.end)}):document.selection?(e=document.selection.createRange(),
d=document.body.createTextRange(),d.moveToElementText(c),d.setEndPoint("EndToStart",e),{start:d.text.length,end:d.text.length+e.text.length,text:e.text}):(b.log("Selection retrieval is not supported in this browser."),{start:0,end:0,text:""});return this},template:function(a){var f,a=a||{};f=function(a){var a=a.split("|"),b;a.splice(0,1);for(b=a.length;b--;)a[b]==="htmlEntities"&&a.splice(b,1);return a};this.query("[data-tpl-id]").each(function(c){var d=c.nodeName(),e=c.attr("data-tpl-id"),h=e,g;
g=f(e);e=e.split("|")[0];h=puredom.delve(a,e);if(h!==null&&h!==void 0){if(typeof h==="date"||h.constructor===Date)h=h.toLocaleString();if(e=c.attr("data-tpl-prop"))c.prop(e,b.text.filter(h,g.join("|")));else switch(d){case "select":case "input":case "textarea":case "meter":case "progress":c.value(h);break;case "img":case "video":case "audio":case "iframe":g.splice(0,0,"htmlEntities");h=b.text.filter(h,g.join("|"));c.attr("src",h);break;default:g.splice(0,0,"htmlEntities"),h=b.text.filter(h,g.join("|")),
c.html(h)}}});a=null;return this}});b.NodeSelection.prototype.on=b.NodeSelection.prototype.addEvent;b.NodeSelection.prototype.animateCss=b.NodeSelection.prototype.animateCSS;h.incrementAnimationCount=function(a){a.setAttribute("data-puredom-animation-count",h.getAnimationCount(a)+1+"");b.addClass(a,"_puredom_animating")};h.decrementAnimationCount=function(a){var f=Math.max(0,h.getAnimationCount(a));f>1?a.setAttribute("data-puredom-animation-count",f-1+""):(a.setAttribute("data-puredom-animation-count",
""),a.removeAttribute&&a.removeAttribute("data-puredom-animation-count"),b.removeClass(a,"_puredom_animating"))};h.getAnimationCount=function(a){return parseInt(a.getAttribute("data-puredom-animation-count"),10)||0};h.unload=function(){h.wrappedEventListener.reset();b.getElement.clearCache();h._nodeToIdList={};setTimeout(function(){window.puredom=h=i=l=null},10)};b.el=function(a,f){var c,d;if(a){d=b.typeOf(a);if(d==="array"){c=[];for(var e=0;e<a.length;e++)Array.prototype.splice.apply(c,[0,0].concat(b.el(a[e])._nodes))}if(a.constructor===
b.NodeSelection)return f===true&&console.log("query is already a NodeSelection",a.constructor+"",a.constructor.name),a;else if(d==="string"&&a.charAt(0)==="<"||d==="object"&&!a.nodeName&&a!==window)f===true&&console.log("query is an HTML fragment",a,d),c=b.createElement.apply(b,arguments);else if(d==="string")f===true&&console.log("query is a CSS selector",a,d),c=b.getElement(a,arguments[1]);else if(a.nodeName||a===window)f===true&&console.log("query is an HTML element",a,d),c=a}return new b.NodeSelection(c)};
b.node=function(a){return new b.NodeSelection(h.idToNode(a))};b.getElement=function(){var a,f,c={},d=false,e=/^((?:[a-z][a-z0-9\_\-]*)|\*)?/gi,g=/^\s*(.*?)\s*$/gm,i;i=[{title:"ID selector {#id}",regex:/^#[_a-zA-Z0-9-]*/gm,filter:function(a){return[document.getElementById(a[0].substring(1))]}},{title:"Class selector {.className}",regex:/^\.([^#.:\[<>\{+\|\s]+)/gim,filter:function(a,b){var c,f,d=" "+a[1]+" ";for(c=b.length;c--;)f=b[c]&&b[c].className,(!f||(" "+f+" ").indexOf(d)===-1)&&b.splice(c,1)}},
{title:"Attribute selector {[name=value] & variants}",regex:/^\[([^\^\$\~=]+)(?:([\^\$\~=]+)([^\]]*))?\]/g,filter:function(a,c){var f,d,e,j,h,g,i,k;if(a&&a[1]){f=a[1];d=void 0;e=void 0;a[2]&&a[3]&&(d=a[2],e=a[3]||"");for(g=c.length;g--;){i=f==="checked"?e==="true"||e==="false"?c[g].checked?"true":"false":c[g].checked?"checked":null:f==="selected"?e==="true"||e==="false"?c[g].selected?"true":"false":c[g].selected?"selected":null:c[g]&&c[g].getAttribute(f+"");j=b.typeOf(i)==="string";h=i&&i.length>
0;e&&(k=j?i.indexOf(e):-1);switch(d||""){case "=":j=i===e;break;case "^=":j=k===0;break;case "$=":j=h&&i.substring(i.length-e.length)===e;break;case "~=":j=k>-1;break;default:j=!e&&j}j||c.splice(g,1)}}}},{title:"Descendant selector {>}",regex:/^\s*\>\s*((?:[a-z][a-z0-9\:\_\-]*)|\*)?/gi,filter:function(a,c,f){var d=[].concat(c),a=(a[1]||"*").toLowerCase(),e,j,h;c.splice(0,c.length);!f.isFiltered&&f.first&&b.log("Descendant selector called on an unfiltered result set.  Operating on descendants of the document.");
if(!f.isFiltered||f.first)d=[f.searchBaseNode];for(f=0;f<d.length;f++){j=d[f].childNodes;for(e=0;e<j.length;e++)h=(j[e].nodeName+"").toLowerCase(),(h===a||a==="*"&&h!=="#text"&&h!=="#comment"&&j[e].nodeType!==3)&&c.push(j[e])}}},{title:"nth-child aliases, like :first-child",regex:/^\:(first|last|only)\-(child|of\-type)/gm,filter:function(a,c,f){var d={"first-child":":nth-child(0n+1)","first-of-type":":nth-of-type(0n+1)","last-child":":nth-last-child(0n+1)","last-of-type":":nth-last-of-type(0n+1)"},
e,j;for(e=i.length;e--;)if(i[e].isNthChildSelector===true){j=i[e];break}if(d.hasOwnProperty(a[1]+"-"+a[2])&&j)return a=d[a[1]+"-"+a[2]],j.regex.lastIndex=0,a=j.regex.exec(a),j.filter(a,c,f);else b.log('Unknown nth-child alias "'+a[1]+"-"+a[2]+'"')}},{isNthChildSelector:true,title:"nth-child selector {:nth-child(n+2) & variants}",regex:/^\:(nth(?:\-last)?(?:\-of\-type|\-child))\((?:(\-?[0-9]*n(?:[+-][0-9]+)?)|([0-9]+)|([a-z]+))\)/gm,filter:function(a,c){var f,d,e,j,h,g,i,k,m,l=a[1].indexOf("-of-type")!==
-1;e={odd:[2,1],even:[2]};f=c.splice(0,c.length);a[1].indexOf("-last")!==-1&&f.reverse();a[2]?(d=a[2].split("n"),d[0].replace("-","").length===0&&(d[0]+="1"),k=Math.round(d[0].replace("+",""))||0,m=Math.round(d[1].replace("+",""))||0):a[3]?(k=0,m=Math.round(a[3])||0):a[4]&&(d=a[4].toLowerCase(),e.hasOwnProperty(d)?(k=e[d][0]||0,m=e[d][1]||0):b.log('Unknown named nth-child expression "'+r[4]+'"'));if(!(k+m<=0)){k===m&&(m=0);for(d=0;d<f.length;d++){children=(f[d].parentNode||{}).childNodes;h=(f[d].nodeName+
"").toLowerCase();isMatch=false;if(children)for(e=i=0;e<children.length;e++)if(g=children[e],j=l?(g.nodeName+"").toLowerCase()===h:(g.nodeName+"").substring(0,1)!=="#"||g.nodeType===1||g.nodeType===9)if(i+=1,g===f[d]&&(isMatch=k>0?i%k-m===0:i===m))break;isMatch&&c.push(f[d])}}}},{title:"within_internal selector { }",regex:/^\s+((?:[a-z][a-z0-9\:\_\-]*)|\*)?/gi,filter:function(a,c){var f=[].concat(c),d=a[1]||"*",e;c.splice(0,c.length);for(e=0;e<f.length;e++)Array.prototype.splice.apply(c,[c.length-
1,0].concat(b.toArray(f[e].getElementsByTagName(d))))}}];f=function(a){a.lastIndex=0};a=function(k,m){var l=document&&document.documentElement||document,q,p,w=k,v,x,s,t,A=0,y=false;t=!h.support.querySelectorAll;var u=Date.now(),k=(k+"").replace(g,"$1"),m=puredom.extend({},m||{});m.logging===true&&(y=true);if(d&&m.useCache===true&&c[k])return c[k];if(m.within)l=m.within;l&&l.length&&!l.nodeName&&l.indexOf&&l[0]&&(l=l[0]);if(k.indexOf(",")>-1){k=k.split(",");q=[];for(s=k.length;s--;)if(k[s]=k[s].replace(g,
"$1"),k[s].length>0&&(l=a(k[s],puredom.extend({},m,{logging:false,internalLogging:y,internal:true}))))for(p=0;p<l.length;p++)q.indexOf(l[p])===-1&&q.push(l[p]);y&&b.log("query=",w,", result=",node);u=Date.now()-u;u>100&&b.log('Slow Selector Warning: "'+w+'" took '+u+"ms to complete.");return q}p=k.match(e);p=(p&&p[0]||"").toLowerCase();s=k=k.substring(p.length);w.charAt(0)===">"&&(t=true);if(s.match(/^#[^\s\[\]\(\)\:\*\.\,<>#]+$/gim))q=[document.getElementById(s.substring(1))],t=false;else if(h.support.querySelectorAll&&
t!==true){v=w.replace(/(\[[^\[\]= ]+=)([^\[\]"']+)(\])/gim,'$1"$2"$3');try{q=b.toArray(l.querySelectorAll(v)||[])}catch(B){console.log("Native querySelectorAll failed for selector: ",v,", error:",B.message),q=[],t=true}}if(t){k.substring(0,1)==="#"?q=[]:(!p||p==="*")&&document.all&&!window.opera&&(l===document||l===document.documentElement)?(q=b.toArray(document.all),x=false):(q=b.toArray(l.getElementsByTagName(p||"*")),x=true);for(v={searchBaseNode:l,negated:false,first:true,isFiltered:x||!!(p&&
p!=="*")};s.length>0;){A+=1;t=false;for(p=0;p<i.length;p++){f(i[p].regex);if(l=i[p].regex.exec(s))t=true,y&&b.log((i[p].title||i[p].regex)+' ==>> matched:"'+s.substring(0,l[0].length)+'" ==>> remaining:"'+s.substring(l[0].length)+'" ||debug>> (submatches:'+l.slice(1).join(",")+")"),(x=i[p].filter(l,q,v))&&b.isArray(x)&&(q=x),s=s.substring(l[0].length),v.first=false,v.isFiltered=true;if(s.length===0)break}if(!t)throw Error("puredom.getElement() :: Unknown CSS selector near: "+s.substring(0,20),"puredom.js",
1775);}}if(m.includeInvisibles!==true)for(p=q.length;p--;)q[p]&&(q[p].nodeName+"").charAt(0)==="#"&&q.splice(p,1);y&&b.log("query=",w,", result=",q);d&&m.cache===true&&(c[k]=q);m.internal!==true&&y===true&&(u=Date.now()-u,u>10&&b.log('Slow Selector Warning: "'+w+'" took '+u+"ms to complete. "+A+" parse iterations."));return q};a.enableCache=function(a){(d=a!==false)||(c={})};a.disableCache=function(){d=false;c={}};a.clearCache=function(){c={}};a._normalizeSelectorFilter=function(a){arguments.length===
2&&(a={regex:arguments[0],filter:arguments[1]});return a&&a.regex&&a.filter?a:false};a.addSelectorFilter=function(b){return(b=a._normalizeSelectorFilter.apply(a,arguments))?(i.push(b),true):false};a.removeSelectorFilter=function(b){var c,f,d;if(b=a._normalizeSelectorFilter.apply(a,arguments))for(c=i.length;c--;){d=true;for(f in i[c])if(i[c].hasOwnProperty(f)&&i[c][f]!==b[f]){d=false;break}if(d){i.splice(c,1);break}}return d===true};a.selectorStats=function(){return"disabled"};return a}();b.DOMEvent=
function(){};window.wrappedEventListener=h.wrappedEventListener={list:[],none:{},summary:function(){for(var a=0;a<this.list.length;a++)b.log(h.idToNode(this.list[a].target),".on",this.list[a].type," -> ",this.list[a].handler.displayName||this.list[a].handler.name)},reset:function(a){var f;if(a===true)for(a=this.list.length;a--;)f=this.list[a],this.list[a]=this.none,b.removeEvent(h.idToNode(f.target),f.type,f.wrappedHandler),this.unsetRefs(f),window.killCount=(window.killCount||0)+1;this.list.splice(0,
this.list.length)},destroyObjHandlers:function(a){var f,c,d=h.nodeToId(a);for(f=this.list.length;f--;)if(c=this.list[f],c.target===d)this.unsetRefs(c),this.list.splice(f,1),b.removeEvent(a,c.type,c.wrappedHandler),window.killCount=(window.killCount||0)+1},get:function(a,b,c,d){var e,g,c=h.nodeToId(c);for(e=this.list.length;e--;)if(g=this.list[e],g.target===c&&g.handler===b&&g.type===a){b=g.wrappedHandler;if(d===true)this.list.splice(e,1),window.killCount=(window.killCount||0)+1,this.unsetRefs(g);
break}return b},unsetRefs:function(a){a.wrappedHandler.type=null;a.wrappedHandler.handler=null;a.wrappedHandler.target=null},internalFireEvent:function(a){var b=h.nodeToId(a.target),c=a.type.replace(/^on/gm,""),d,e;for(d=this.list.length;d--;)if(e=this.list[d],e.target===b&&e.type===c&&(e=e.handler.call(a.target,a),e===false))break},create:function(a,f,c){c={type:a,target:h.nodeToId(c),handler:f,wrappedHandler:function(a){var c=arguments.callee.handler,f=(arguments.callee.type||a.type).toLowerCase().replace(/^on/,
""),d=this!==window?this:h&&h.idToNode(arguments.callee.target),e,g,i={isInSelf:false,doPreventDefault:false,doCancelBubble:false,doStopPropagation:false,e:a||window.event,ret:null,end:function(){var j;a=e=(j=c=f=d=i.end=null,i=j);return this.ret}};(!h||!h.idToNode)&&b.log("target:<"+a.target.nodeName+' class="'+a.target.className+'" id="'+a.target.id+'"> , type:'+f+"/"+a.type);a=i.e;e=b.extend(new b.DOMEvent,{which:a.which,type:f,target:a.target||a.srcElement||d||document.body,relatedTarget:a.relatedTarget||
(f==="mouseout"?a.toElement:a.fromElement),preventDefault:function(){i.doPreventDefault=true},stopPropagation:function(){i.doStopPropagation=true;i.doCancelBubble=true},cancel:function(){e.preventDefault();e.stopPropagation();return e.returnValue=false},returnValue:true,originalEvent:a,timeStamp:a.timeStamp||Date.now()});e.cancelBubble=e.stopPropagation;e.stop=e.prevent=e.cancel;for(g in a)!e.hasOwnProperty(g)&&typeof a[g]!=="function"&&g!==g.toUpperCase()&&(e[g]=a[g]);e.target||b.log("Event target doesn't exist for type \""+
e.type+'": ',e.target,", srcElement=",a.srcElement);if(a.type==="touchend"&&h._lastTouchPos)e.pageX=h._lastTouchPos.pageX,e.pageY=h._lastTouchPos.pageY;else if(a.touches&&a.touches[0])e.pageX=a.touches[0].pageX,e.pageY=a.touches[0].pageY,h._lastTouchPos={pageX:e.pageX,pageY:e.pageY};else if(a.pageX||a.pageX===0||a.clientX||a.clientX===0)e.pageX=a.pageX||a.clientX+document.body.offsetLeft,e.pageY=a.pageY||a.clientY+document.body.offsetTop;if(f.indexOf("key")>-1||a.keyCode||a.charCode)e.keyCode=a.keyCode||
a.which,e.charCode=a.keyCode||a.charCode||a.which,e.which=a.which;if(f.indexOf("mouse")>-1||f.indexOf("click")>-1||a.button!==null&&a.button!==void 0)e.button=a.button||a.which;if(e.target&&e.target.nodeType===3&&d.nodeType!==3)e.target=e.target.parentNode;i.searchNode=e.relatedTarget||e.target;do if(i.searchNode===d){i.isInSelf=true;break}while(i.searchNode&&(i.searchNode=i.searchNode.parentNode)&&i.searchNode!==document);if(f!=="mouseover"&&f!=="mouseout"||!i.isInSelf){if(c&&c.call)i.handlerResponse=
c.call(d,e);e.returnValue=i.handlerResponse!==false&&e.returnValue!==false;if(i.doPreventDefault)e.returnValue=a.returnValue=false,a.preventDefault&&a.preventDefault();if(i.doCancelBubble||i.doStopPropagation||e.cancelBubble===true)if(a.stopPropagation&&a.stopPropagation(),a.cancelBubble){if(a.cancelBubble.call)try{a.cancelBubble()}catch(k){}}else try{a.cancelBubble=true}catch(m){}i.ret=e.returnValue}else i.ret=true;return i.end()}};c.wrappedHandler.displayName="wrappedEventHandler_"+a;c.wrappedHandler.handler=
f;c.wrappedHandler.type=a;c.wrappedHandler.target=c.target;this.list.push(c);c=a=f=c=null;return this.list[this.list.length-1].wrappedHandler}};h.getSubjectDescription=function(a){return(a.nodeName?b.el(a)+"":a.constructor&&a.constructor.name||a.name||a)+""};b.eventTypeMap={};h.support.webkitMultitouch&&b.extend(b.eventTypeMap,{mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"});b.addEvent=function(a,f,c,d){var e;if(a){b.typeOf(f)==="string"&&f.indexOf(",")>-1&&(f=f.replace(/\s/gm,"").split(","));
if(b.isArray(f)){for(d=0;d<f.length;d++)b.addEvent(a,f[d],c);return true}e=f=(f+"").toLowerCase().replace(/^\s*(on)?(.*?)\s*$/gim,"$2");if(typeof f!=="string"||!c||!c.call)b.log("Attempted to add event with invalid type or handler:",{type:f,handler:c+"",subject:h.getSubjectDescription(a),useCapture:d===true});else if(b.eventTypeMap.hasOwnProperty(f)&&(f=b.eventTypeMap[f]),c=h.wrappedEventListener.create(e,c,a),a.attachEvent)a.attachEvent("on"+f,c);else if(a.addEventListener)a.addEventListener(f,c,
d===true),window._eventCount=(window._eventCount||0)+1}};b.removeEvent=function(a,f,c,d){var e;if(a){b.typeOf(f)==="string"&&f.indexOf(",")>-1&&(f=f.replace(/\s/gm,"").split(","));if(b.isArray(f)){for(e=0;e<f.length;e++)b.removeEvent(a,f[e],c,d);return true}e=f=(f+"").toLowerCase().replace(/^\s*(on)?(.*?)\s*$/gim,"$2");if(typeof f!=="string"||!c||!c.call)b.log("Attempted to remove event with invalid type or handler:",{type:f,handler:c+"",subject:h.getSubjectDescription(a),useCapture:d===true});else if(b.eventTypeMap.hasOwnProperty(f)&&
(f=b.eventTypeMap[f]),c=h.wrappedEventListener.get(e,c,a,true),a.detachEvent)a.detachEvent("on"+f,c);else if(a.removeEventListener)try{a.removeEventListener(f,c,d===true),window._eventCount=(window._eventCount||0)-1}catch(g){}}};b.cancelEvent=function(a){if(a=a||window.event){a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();try{a.cancelBubble=true}catch(b){}a.returnValue=false}return false};b.fireEvent=function(a){var f,c,d,e,g,a=a||{};if(document.createEventObject){a=b.extend({},
a);a.type="on"+a.type.toLowerCase().replace(/^on/,"");try{f=document.createEventObject()}catch(i){g=true}if(!g){for(d in a)if(a.hasOwnProperty(d))try{f[d]=a[d]}catch(k){}try{c=a.target.fireEvent(a.type,f),e=f.preventDefault===true}catch(m){g=true}}g&&h.wrappedEventListener.internalFireEvent&&h.wrappedEventListener.internalFireEvent(a)}else{f=document.createEvent("HTMLEvents");f.initEvent(a.type.toLowerCase().replace(/^on/,""),true,true);for(d in a)if(a.hasOwnProperty(d))try{f[d]=a[d]}catch(l){}c=
!a.target.dispatchEvent(f);e=f.preventDefault===true}return{evt:f,preventDefault:e,rval:c}};h._nodeToIdIndex=0;h._nodeToIdList={};window._nodeToIdList=h._nodeToIdList;h.nodeToId=function(a){var f;if(a===window)return"_td_autoid_window";else if(a===document)return"_td_autoid_document";else if(a===document.body)return"_td_autoid_documentbody";(f=/\s_td_autoid_([0-9]+)\s/gm.exec(" "+a.className+" "))&&f[1]?f=f[1]:(h._nodeToIdIndex+=1,f=h._nodeToIdIndex+"",b.addClass(a,"_td_autoid_"+f));h.ensureNodeIdListing(a,
f);return f};h.idToNode=function(a){var f;f=h._nodeToIdList[a+""];var c;if(a==="_td_autoid_window")return window;else if(a==="_td_autoid_document")return document;else if(a==="_td_autoid_documentbody")return document.body;f&&(c=b.getElement(f),/\s_td_autoid_[0-9]+\s/gm.exec(" "+c.className+" ")||(c=null));c||(c=(f=b.getElement("._td_autoid_"+a))&&f[0])&&h.ensureNodeIdListing(c,a);return c||false};h.ensureNodeIdListing=function(a,b){var c;a.getAttribute&&(c=a.getAttribute("id"),c||(c="_td_autoid_"+
b,a.setAttribute("id",c)),h._nodeToIdList[b]="#"+c)};h.removeNodeUID=function(a){var b=a.getAttribute("id");b&&b.match(/^_td_autoid_[0-9]+$/g)&&(a.removeAttribute?a.removeAttribute("id"):a.setAttribute("id",""));if(a.className)a.className=a.className.replace(/(^|\b)_td_autoid_[0-9]+(\b|$)/gim,"")};b.animationFrame=function(a){var b={manualFramerate:11};window.mozRequestAnimationFrame?a="moz":window.webkitRequestAnimationFrame&&(a="webkit");b.nativeSupport=!!a;b.nativeSupport?(b.getTimer=function(b){return window[a+
"RequestAnimationFrame"](b)},b.cancelTimer=function(b){window[a+"CancelRequestAnimationFrame"](b)},b.getStartTime=function(){return window[a+"AnimationStartTime"]||(new Date).getTime()}):(b.getTimer=function(a){return setTimeout(function(){a((new Date).getTime());a=null},b.manualFramerate)},b.cancelTimer=function(a){clearTimeout(a)},b.getStartTime=function(){return(new Date).getTime()});return b}();b.setOpacity=function(a,b){b<=1&&b>0&&(b*=100);b=Math.round(b);b<100?(a.style.opacity=parseFloat(b/
100).toFixed(2),a.style.filter="alpha(opacity="+b+")"):(a.style.opacity=null,a.style.filter=null)};b.applyMsFilter=function(a,f,c){var d,e="",g=h.support.filterProperty==="MsFilter"?'"':"",i,k,m,f=f.charAt(0).toUpperCase()+f.substring(1);if(typeof c==="string"){e=c;c={};k=e.replace(/\s*(,|=)\s*      /gm,"$1").split(",");for(i=0;i<k.length;i++)m=k[i].indexOf("="),c[k[i].substring(0,m)]=k[i].substring(m+1)}else{for(i in c)c.hasOwnProperty(i)&&(e+=", "+i+"="+c[i]);e=e.replace(",","")}try{d=a.filters&&
a.filters.item&&(a.filters.item("DXImageTransform.Microsoft."+f)||a.filters.item(f))}catch(l){}if(d){for(i in c)c.hasOwnProperty(i)&&i!=="enabled"&&(d[i]=c[i]);d.enabled=c.enabled?1:0}else c=a.style.MsFilter||a.style.filter||"",c+=" "+(b.nodeStyle(a,"MsFilter")||b.nodeStyle(a,"filter")||""),c&&(c=c.replace(RegExp('(^|s|))"?((progid:)?DXImageTransform.Microsoft.)?'+f+'s*?(.*?)"?s*?',"gim"),"$1")+" "),a.style[h.support.filterProperty]=c+g+"progid:DXImageTransform.Microsoft."+f+"("+e+")"+g;if(!a.style.zoom)a.style.zoom=
1};b.applyCss=function(a,f){var c,j,i,g,k,f=f||{};for(c in f)if(f.hasOwnProperty(c))try{if(j=b.getStyleAsCSS(c),j=j.replace(/^\-(moz|webkit|ms|o|vendor)\-/gim,d+"-"),j=b.getStyleAsProperty(j),j==="opacity"&&h.support.filters)k=Math.round(parseFloat(f[c])*100),k<100?b.applyMsFilter(a,"alpha",{enabled:true,opacity:k}):b.applyMsFilter(a,"alpha",{enabled:false});else if(j==="--box-shadow"&&h.support.filters)i=(i=f[c].match(/\b(\#[0-9af]{3}[0-9af]{3}?|rgba?\([0-9\,\s]+\))\b/gim))&&i[0]||"",g=(" "+f[c]+
" ").replace(i,"").replace(/\s+/m," ").split(" ").slice(1,4),b.applyMsFilter(a,"glow",{Color:i,Strength:Math.round(g[3].replace(/[^0-9\-\.]/gim,""))});else if(a.style[j]=f[c],j==="boxShadow"||j==="textShadow"||j==="borderRadius")e&&(a.style[e+j]=f[c])}catch(m){}};b.getStyleAsProperty=function(a){return b.typeOf(a)==="string"&&a.replace(/\-[a-z0-9]/gim,function(a){return a.charAt(1).toUpperCase()})||null};b.getStyleAsCSS=function(a){return b.typeOf(a)==="string"&&a.replace(/\-*[A-Z]/gm,"-$0").toLowerCase()||
null};b.getCssTransitions=function(a){var f={},c={properties:"-vendor-transition-property",durations:"-vendor-transition-duration",timingFunctions:"-vendor-transition-timing-function"},d,e;for(d in c)c.hasOwnProperty(d)&&(c[d]=(b.nodeStyle(a,c[d])||"").replace(/\s/,"").split(","));for(a=0;a<c.properties.length;a++)c.properties[a]&&c.properties[a]!=="null"&&!(c.properties[a]==="all"&&c.durations[a].match(/^[0\.ms]*$/))&&(d=c.durations[a]||c.durations[c.durations.length-1],e=parseFloat(d.replace(/[^\-0-9\.]/gim,
""))||0,d.match(/ms$/i)||(e*=1E3),f[b.getStyleAsProperty(c.properties[a])]={duration:e,timingFunction:c.timingFunctions[a]||c.timingFunctions[c.timingFunctions.length-1]||"ease"});return f};b.setCssTransitions=function(a,f){var c={"-vendor-transition-property":[],"-vendor-transition-duration":[],"-vendor-transition-timing-function":[]},d;for(d in f)f.hasOwnProperty(d)&&f[d]&&(c["-vendor-transition-property"].push(d.toLowerCase()),c["-vendor-transition-duration"].push((f[d].duration/1E3).toFixed(3)+
"s"),c["-vendor-transition-timing-function"].push(f[d].timingFunction||"ease"));for(d in c)c.hasOwnProperty(d)&&(c[d]=c[d].join(", "));b.applyCss(a,c)};b.updateCssTransitions=function(a,d){var c,e;if(d){c=b.getCssTransitions(a);for(e in d)d.hasOwnProperty(e)&&(d[e]?c[e]=d[e]:delete c[e]);b.setCssTransitions(a,c)}};b.addClass=function(a,d){var c,e;if(d){b.isArray(d)||(d=[d]);c=a.className||"";if(c.length>0){c=" "+c+" ";for(e=0;e<d.length;e++)for(;c.indexOf(" "+d[e]+" ")>-1;)c=c.replace(" "+d[e]+" ",
" ");c=c.substring(1)}a.className=(c+d.join(" ")).replace(/\s+/gim," ")}};b.removeClass=function(a,d){var c,e;if(d){b.isArray(d)||(d=[d]);c=a.className||"";if(c.length>0){c=" "+c+" ";for(e=0;e<d.length;e++)for(;c.indexOf(" "+d[e]+" ")>-1;)c=c.replace(" "+d[e]+" "," ");c=c.substring(1)}a.className=c.replace(/\s+/gim," ")}};b.nodeStyle=function(a,b){var c=(b+"").replace(/[A-Z]/g,"-$0").toLowerCase(),e,i,c=c.replace(/^\-(moz|webkit|ms|o|vendor)\-/gim,d+"-");e=c.replace(/\-[a-z]/gim,function(a){return a.substring(1).toUpperCase()});
if(c==="opacity"&&h.support.filters)return a.filters.alpha&&a.filters.alpha.enabled!==false&&Math.round(a.filters.alpha.opacity)/100;a.style&&a.style[e]?i=a.style[e]||"":a.currentStyle&&a.currentStyle[e]?i=a.currentStyle[e]||a.currentStyle[c]||"":document.defaultView&&document.defaultView.getComputedStyle?i=(i=document.defaultView.getComputedStyle(a,null))&&(i.getPropertyValue(c)||i.getPropertyValue(e))||"":window.getComputedStyle&&(i=(i=window.getComputedStyle(a,null))&&(i.getPropertyValue(c)||i.getPropertyValue(e))||
"");return i};b.htmlEntities=function(a,d){var c=["htmlEntities"];d===true&&c.push("stripTags");return b.text.filter(a,c)};b.log=function(){var a,b,d;if(window.console&&window.console.log)try{window.console.log.apply(window.console,arguments)}catch(e){d=[];a="args[0]";for(b=1;b<arguments.length;b++)d.push(arguments[b]),a+=",args["+b+"]";eval("window.console.log("+a+")")}};b.addNodeSelectionPlugin=function(a,d){b.NodeSelection.prototype.hasOwnProperty(a)||(b.NodeSelection.prototype[a]=function(){var a=
d.apply(this,arguments);if(a===null||a===void 0)return this})};b.init=function(){g||(g=true,b.forEach(h.oninit,function(a){a.call(b,b)}),b.fireEvent({target:document.body,type:"puredomready",puredom:b}))};b.addEvent(document,"DOMContentLoaded",b.init);b.addEvent(window,"load",b.init);b.addEvent(window,"unload",h.unload);(function(){if(window._previousPureDom){for(var a in window._previousPureDom)window._previousPureDom.hasOwnProperty(a)&&(b[a]=window._previousPureDom[a]);window._previousPureDom=null;
try{delete window._previousPureDom}catch(d){}}})();return function(){function a(a){return b.typeOf(a)==="function"?(g===true?a.call(b,b):h.oninit.push(a),b):b.el.apply(b,arguments)}for(var d in b)a[d]=b[d];a.toString=function(){return"function puredom(){}"};return a}()}();window.puredom=window.puredom||{};
(function(){var b={text:function(){var b=function(){return b.filter.apply(this,arguments)},e=/[&<>"]/gim,i=/(^|\s)[a-z]/gim,g=/^[a-z]/gim,l=/\r?\n/g,h=/[^0-9.\-]/gim;b.filter=function(e,h){var a,f,c,i,g;puredom.typeOf(h)!=="array"&&(h=((h||"")+"").split("|"));if(arguments.length>2)for(a=2;a<arguments.length;a++)puredom.typeOf(arguments[a])==="array"?h=h.concat(arguments[a]):h.push(arguments[a]);for(a=0;a<h.length;a++)for(g in f=h[a],i=[e],c=f.indexOf(":"),c>-1&&(f=f.substring(0,c),i=i.concat(h[a].substring(c+
1).split(","))),b)if((g+"").toLowerCase()===f.toLowerCase()){e=b[g].apply(b,i);break}return e};b.escape=function(b){return encodeURIComponent(b)};b.unescape=function(b){return decodeURIComponent(b)};b.htmlEntities=function(b){var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return(b+"").replace(e,function(a){return d[a]})};b.ucWords=function(b){return(b+"").toLowerCase().replace(i,function(b){return b.toUpperCase()})};b.ucFirst=function(b){return(b+"").toLowerCase().replace(g,function(b){return b.toUpperCase()})};
b.nl2br=function(b){return(b+"").replace(l,"<br />")};b.numbersOnly=function(b){return(b+"").replace(h,"")};b.truncate=function(b,d,a,e){var c=false,h=b+"",b=h,d=parseInt(d,10)||80,e=e||"...";b.length>d&&(a===true||a==="true"||a==="byWord"?(b=b.substring(0,d),h.charAt(d).match(/\s/)||(b=b.replace(/\s[^\s]*$/,""))):b=b.substring(0,d-e.length),c=true);c&&(b+=e);return b};b.trim=function(b){var d,a,b=b.replace(/^\s\s*/,"");d=/\s/;for(a=b.length;d.test(b.charAt(--a)););return b.slice(0,a+1)};b["default"]=
function(e,h){return(e=b.trim(e))?e:h};b.dateformat=function(b,d){var a=puredom.i18n,e=puredom.date;e&&e.create&&(date=e.create(b));if(!date||(date+"").indexOf("Invalid")>-1)if(date=new Date(b),!date||(date+"").indexOf("Invalid")>-1)date=new Date,date.setTime(Math.round(b));d&&d.indexOf("%")>-1?e&&e.format&&(b=e.format(date,d)):a&&(b=a(date,null,null,{datetype:d||"date"})||date+"");return b};return b}(),parameterize:function(b,e){var i=[],g,l,h,m=puredom.extend({delimiter:"&",startDelimiter:"?",assignment:"=",
typeHandlers:null},e);for(g in b)if(b.hasOwnProperty(g))if(l=b[g],h=this.typeOf(l),m.typeHandlers&&m.typeHandlers.hasOwnProperty(h))i.push(m.delimiter+encodeURIComponent(g)+"="+encodeURIComponent(m.typeHandlers[h](l)));else if(h==="array"&&m.disableArrayParams!==true)for(h=0;h<l.length;h++)i.push(m.delimiter+encodeURIComponent(g)+"[]="+encodeURIComponent(l[h]));else{switch(h){case "boolean":l=l?"true":"false";break;case "null":case "undefined":l="";break;case "object":l=m.useJsonForObjects!==false?
this.json(l):this.parameterize(l)}i.push(encodeURIComponent(g)+"="+encodeURIComponent(l))}i=i.join(m.delimiter||"&");return i=(m.startDelimiter||"")+i},querystring:{parse:function(b){var e,i,g={};b.substring(0,1)==="?"&&(b=b.substring(1));b=b.split("&");for(e=0;e<b.length;e++)b[e]&&(i=b[e].indexOf("="),g[decodeURIComponent(b[e].substring(0,i))]=i<0?"":decodeURIComponent(b[e].substring(i+1)));return g},stringify:function(b,e){e=puredom.extend({startDelimiter:""},e||{});return puredom.parameterize.apply(puredom,
arguments)},build:function(){return this.stringify.apply(this,arguments)}},cookies:function(){var b={};return{set:function(e,i,g,l,h,m){var n="",a="",f,h=typeof h==="string"?h:"";g&&(f=new Date,f.setTime(f.getTime()+g*864E5),n="; expires="+f.toGMTString());b.hasOwnProperty(e)&&b[e].expires&&(n="; expires="+b[e].expires.toGMTString());a=e+"="+encodeURIComponent(i)+n+"; path=/"+h.replace(/^\//,"");typeof l==="string"&&l.length>0&&(a+="; domain="+l.replace(/[\;\,]/,""));m===true&&(a+="; secure");document.cookie=
a;b[e]={value:i,expires:f}},get:function(e,i){if(b.hasOwnProperty(e)&&i!==true)return b[e].value;var g,l,h=document.cookie.split(";");for(l=0;l<h.length;l++)if(g=h[l].replace(/^\s+/gim,""),g.indexOf(e+"=")===0)return decodeURIComponent(g.substring(e.length+1,g.length));return null},remove:function(e){this.set(e,"",-1);delete b[e]},purge:function(){for(var e in b)b.hasOwnProperty(e)&&(this.remove(e),delete b[e])},read:function(){return this.get.apply(this,arguments)},write:function(){return this.set.apply(this,
arguments)}}}(),Cache:function(){function b(){if(this.constructor!==arguments.callee&&this.constructor!==b)return new b;this.data={}}puredom.extend(b.prototype,{defaultType:"_default",purge:function(){this.data={}},get:function(b,d,g){var l;arguments.length===2&&(g=d=b,b=null);b=(b||this.defaultType)+"";d+="";l=this.data.hasOwnProperty(b)&&this.data[b][d]||false;return g?(l&&g(l),!!l):l},set:function(b,d,g){arguments.length===2&&(g=d=b,b=null);b=(b||this.defaultType)+"";d+="";this.data[b]||(this.data[b]=
{});this.data[b][d]=g},proxySet:function(b,d,g,l){var h=this;return function(){h.set(b,d,arguments[l||0]);g&&g.apply(g,arguments)}},each:function(b){return puredom.foreach(this.data,b)}});return b}(),json:function(){var b=function(e){return puredom.typeOf(e)==="string"?b.parse(e):b.stringify(e)};b.stringify=function(b){var d;try{d=JSON.stringify(b)}catch(g){puredom.log("puredom.json:: Stringify failed: "+g+" | "+b)}return d};b.parse=function(b){var d;if(typeof b==="string"&&b.length>0)try{d=JSON.parse(b)}catch(g){puredom.log("puredom.json:: Parse failed: "+
g+" | "+b)}return d};b.serialize=b.stringify;b.unserialize=b.parse;return b}(),xml:{parse:function(b){var e;window.DOMParser?e=(new window.DOMParser).parseFromString(b,"text/xml"):(e=new window.ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(b));return e}}},g;for(g in b)b.hasOwnProperty(g)&&(puredom[g]=b[g]);b=null})();window.puredom=window.puredom||{};puredom.EventEmitter=function(){this._eventRegistry=[]};
puredom.EventEmitter.prototype.addEventListener=function(b,g){var d,e,b=(b+"").toLowerCase().replace(/\s+/gim,"");if(b.indexOf(",")>-1){d=b.split(",");for(e=0;e<d.length;e++)this.addEventListener(d[e],g);return this}b=b.replace(/^on/,"");this._eventRegistry.push({type:b,handler:g});return this};puredom.EventEmitter.prototype.addListener=puredom.EventEmitter.prototype.addEventListener;puredom.EventEmitter.prototype.on=puredom.EventEmitter.prototype.addEventListener;
puredom.EventEmitter.prototype.removeEventListener=function(b,g){var d,e,b=(b+"").toLowerCase().replace(/\s+/gim,"");if(b.indexOf(",")>-1){d=b.split(",");for(e=0;e<d.length;e++)this.removeEventListener(d[e],g);return this}b=b.replace(/^on/,"");for(d=this._eventRegistry.length;d--;)if(e=this._eventRegistry[d],e.type===b&&e.handler===g){this._eventRegistry.splice(d,1);break}return this};puredom.EventEmitter.prototype.removeListener=puredom.EventEmitter.prototype.removeEventListener;
puredom.EventEmitter.prototype._fireEvent=function(b,g){var d,e,i=[],b=(b+"").toLowerCase().replace(/^on/,"");puredom.isArray(g)||(g=[g]);for(d=this._eventRegistry.length;d--;)if(e=this._eventRegistry[d],e.type===b){if(i.length===0)i.falsy=i.falsey=i.truthy=true;e=e.handler.apply(this,g);i.push(e);if(e===true)i.falsy=i.falsey=false;else if(e===false)i.truthy=false;if(e===false)break}return i};window.puredom=window.puredom||{};
puredom.net={HttpRequest:function(b){puredom.extend(this,b)},get:function(b,g,d){return this.request(puredom.extend({url:b,type:"GET",callback:g},d||{}))},post:function(b,g,d,e){return this.request(puredom.extend({url:b,type:"POST",post:g,callback:d},e||{}))},multiLoad:function(b,g){if(!b)return false;var d=-1,e=b.length,i=[],k,l;k=function(e,m){if(e&&m){var n=b[d],a=m;n.process&&n.process.call&&(a=n.process(a),a===void 0&&(a=m));i.push(a);g&&g(false,i,0,0);k=l=b=i=g=null}else l()};l=function(){d+=
1;var h=b[d];(h=typeof h==="string"?{url:h}:h)?http.request(h,k):d<e?l():g(false,null,null,"No resources were available.")};l();return true},request:function(b,g){var d,e,i;if(!b.url)return false;i=this;b=b||{};d=new puredom.net.HttpRequest({url:b.url,type:b.type||(b.post?"POST":"GET"),callback:b.callback||g||function(){},post:b.post,headers:b.headers});if(b.contentTypeOverride)d.contentTypeOverride=b.contentTypeOverride,delete b.contentTypeOverride;this.createXHR(d.url,function(b){d.request=b.xhr;
d._xdrFrame=b.frame;b=null;if(d.post&&puredom.typeOf(d.post)==="object"&&(d.post=puredom.parameterize(d.post),d.post.substring(0,1)==="?"))d.post=d.post.substring(1);d.request.onreadystatechange=function(){var b;if(d.request._orig)d.request.readyState=d.request._orig.readyState,d.request.status=d.request._orig.status,d.request.responseText=d.request._orig.responseText,d.request.responseXML=d.request._orig.responseXML;if(d.request.readyState===4){d._xdrFrame&&setTimeout(function(){i._freeIframes.push(d._xdrFrame);
i=null},100);d.status=d.request.status;if(d.contentTypeOverride)b=d.contentTypeOverride.toLowerCase();else{try{b=d.request.getResponseHeader("Content-Type").toLowerCase()}catch(e){}b=b||""}d.responseText=d.request.responseText;if(b.match(/\/(json|javascript)$/gm)||b==="json"){d.responseType="json";b=d.responseJSON=null;try{b=d.responseJSON=JSON.parse(d.request.responseText.replace(/^[^\[\{]*(.*)[^\[\{]*$/g,"$1"))}catch(g){d.jsonParseError=true}}else b==="application/xml"||b==="xml"?(d.responseType=
"xml",b=d.responseXML=d.request.responseXML):(d.responseType="text",b=d.responseText);d.callback&&d.callback(d.request.status<300,b)}};d.request.open(d.type,d.url,d.async!==false);d.request.setRequestHeader("content-type","application/x-www-form-urlencoded");d.request.setRequestHeader("x-requested-with","XMLHttpRequest");if(d.headers)for(e in d.headers)if(d.headers.hasOwnProperty(e))try{d.request.setRequestHeader(e,d.headers[e])}catch(g){}d.request.send(d.post||null)});return d},jsonp:function(){var b=
function(){return b.get.apply(b,arguments)},g=0;b.get=function(b,e,i){var k,l,h,m;puredom.typeOf(e)==="function"&&(i&&puredom.typeOf(i)==="object"&&(m=i),i=e,m&&(e=m));e=e||{};if(e.callback&&!i)i=e.callback;if(!e.timeout)e.timeout=10;b=b||e.url;if(!b)return false;e.params&&puredom.parameterize&&(b+=(b.indexOf("?")>-1?"&":"?")+puredom.parameterize(e.params));g+=1;e.callback=h="puredom_net_jsonp_"+g;(function(){window[e.callback]=function(b){i&&(i(b),i=null);l&&(l.stop(),l=null)}})();b.indexOf("{!callback}")>
-1?b=b.replace("{!callback}",h):b+=(b.indexOf("?")<0?"?":"&")+encodeURIComponent(e.callbackParam||"callback")+"="+encodeURIComponent(h);if(!this._head)this._head=(m=document.getElementsByTagName("head"))&&m[0];k=puredom.el({type:"script",attributes:{src:b,async:"async",type:"text/javascript"},parent:this._head||document.body});l={id:h,stop:function(){l._timer&&clearTimeout(l._timer);window[h]=null;try{delete window[h]}catch(b){}i=null;k.attr("src","about:blank").remove();h=l=k=null}};if(e.timeout&&
e.timeout>0)l._timer=setTimeout(function(){i&&i({_requestTimedOut:true,_jsonpTimedout:true,success:false,result:false});l&&l.stop()},Math.round(e.timeout*1E3));b=e=m=null;return l};return b}(),_freeIframes:[],_xhrIndex:0,createXHR:function(b,g){var d=false,e=this,i,k,l,h,m,n;this._xhrIndex+=1;if(b&&(i=(i=/^[a-z]{3,9}\:\/\/([^\/\?#]+)/gim.exec(b))&&i[1])&&i!==location.hostname){d=true;document.domain=location.hostname.match(/[^.]+\.[^.]+$/gim)[0];for(n=0;n<this._freeIframes.length;n++)if(this._freeIframes[n].getAttribute("data-xhr-domain")===
i){k=this._freeIframes.splice(n,1)[0];break}k?g(e._createXHRObj(k.contentWindow,k)):(k=document.createElement("iframe"),k.style.cssText="position:absolute; left:0; top:-1000px; width:1px; height:1px; border:none; overflow:hidden;",h=function(){var a,b;try{b=(a=k.contentWindow)&&a.document&&a.document.domain===document.domain&&a.document.body}catch(c){b=null}if(b&&b.innerHTML)clearInterval(m),k.onload=k.onerror=null,g(e._createXHRObj(a,k)),e=g=l=k=i=h=m=null},k.onload=k.onerror=h,k.setAttribute("src",
location.protocol+"//"+i+"/xd_receiver.html"),k.setAttribute("role","presentation"),k.setAttribute("tabindex","-1"),k.setAttribute("data-xhr-domain",i),document.body.appendChild(k),m=setInterval(h,50))}if(!d)return l=this._createXHRObj(),g(l),l},_createXHRObj:function(b,g){var d,b=b||window;try{d=new b.XMLHttpRequest}catch(e){try{d=new b.ActiveXObject("Msxml2.XMLHTTP")}catch(i){d=new b.ActiveXObject("Microsoft.XMLHTTP")}}return{xhr:d,frame:g}}};window.puredom=window.puredom||{};
puredom.LocalStorage=function(b,g,d){var e=this,d=d||{};this.id=b;this.adapter=null;this.data={};d.adapter&&this.setAdapter(d.adapter);!this.adapter&&d.useBest!==false&&this.useBestAdapter();this.adapter&&d.restore!==false?this.restore(function(){g&&g(e);e=d=null}):g&&(g(e),e=null)};puredom.LocalStorage.prototype.commitDelay=100;puredom.LocalStorage.prototype.data={};
puredom.LocalStorage.prototype.setAdapter=function(b){var g=this.constructor.adapters,d=(b+"").toLowerCase(),e=false,i=false,k;for(k in g)if(g.hasOwnProperty(k)&&(k+"").toLowerCase()===d&&(e=true,g[k].test(this)===true)){i=true;this.adapterName=b;this.adapter=g[k];break}if(!e)return puredom.log('puredom.LocalStorage :: Could not find "'+b+'" adapter.'),false;return!i?(puredom.log('puredom.LocalStorage :: "'+b+'" adapter test() failed: conditions for adapter use not met.'),false):true};
puredom.LocalStorage.prototype.getAdapter=function(){return this.adapterName};puredom.LocalStorage.prototype.useBestAdapter=function(){var b=this.constructor.adapters,g,d,e;for(e in b)if(b.hasOwnProperty(e)&&b[e].test(this)===true&&(!g||(Math.round(g.rating)||0)<(Math.round(b[e].rating)||0)))g=b[e],d=e;if(g)this.adapterName=d,this.adapter=g;else return setTimeout(function(){throw"puredom.LocalStorage :: Could not find the best adapter.";},1),false;return true};
puredom.LocalStorage.prototype.getNamespace=function(b){var g=this,d;b+="";b.substring(0,1)==="."&&(b=b.substring(1));b.substring(b.length-1)==="."&&(b=b.substring(0,b.length-1));d=puredom.extend(new puredom.LocalStorage.NamespacedLocalStorage,{getAdapter:function(){return g.getAdapter()},getNamespace:this.getNamespace,getValue:function(e){return g.getValue(b+"."+e)},setValue:function(e,d){g.setValue(b+"."+e,d);return this},removeKey:function(e){g.removeKey(b+"."+e);return this},purge:function(){g.removeKey(b);
return this},getData:function(){return g.getValue(b)},restore:function(b){var d,k=this;b&&(d=function(){b(k);k=d=b=null});g.restore(d);return this},commit:function(b){var d,k=this;b&&(d=function(){b(k);k=d=b=null});g.commit(d);return this}});puredom.extend(d,{get:d.getValue,set:d.setValue,remove:d.removeKey});return d};puredom.LocalStorage.prototype.getData=function(){return this.data};puredom.LocalStorage.prototype.getValue=function(b){return puredom.delve(this.data,b)};
puredom.LocalStorage.prototype.setValue=function(b,g){var d=this.data,e=b.split("."),i;for(i=0;i<e.length-1;i++)d.hasOwnProperty(e[i])||(d[e[i]]={}),d=d[e[i]];g===void 0||g===null?(d[e[e.length-1]]=null,delete d[e[e.length-1]]):d[e[e.length-1]]=g;this.queueCommit();return this};puredom.LocalStorage.prototype.removeKey=function(b){this.setValue(b,void 0);return this};puredom.LocalStorage.prototype.get=puredom.LocalStorage.prototype.getValue;puredom.LocalStorage.prototype.set=puredom.LocalStorage.prototype.setValue;
puredom.LocalStorage.prototype.remove=puredom.LocalStorage.prototype.removeKey;puredom.LocalStorage.prototype.purge=function(){this.data={};this.queueCommit();return this};puredom.LocalStorage.prototype.restore=function(b){var g=this,d,e;if((d=this._adapterCall("load",function(d){g.data=e=d||{};b&&b(g);g=null}))&&!e)this.data=d,b&&b(this);d=e=null;return this};
puredom.LocalStorage.prototype.commit=function(b){var g=this;if(this._commitTimer)clearTimeout(this._commitTimer),this._commitTimer=null;this._adapterCall("save",this.data,function(){b&&b(g);g=null});return this};puredom.LocalStorage.prototype.queueCommit=function(){var b=this;if(!this._commitTimer)this._commitTimer=setTimeout(function(){b.commit();b=null},this.commitDelay)};
puredom.LocalStorage.prototype._adapterCall=function(b,g){if(this.adapter&&this.adapter[b])return this.adapter[b].apply(this.adapter,[this].concat(puredom.toArray(arguments).slice(1)))};puredom.LocalStorage.NamespacedLocalStorage=function(){};puredom.LocalStorage.adapters={};
puredom.LocalStorage.addAdapter=function(b,g){if(g.save)if(g.load)this.adapters[b]=g;else throw'puredom.LocalStorage :: Adapter "'+b+'" attempted to register, but does not provide a load() method.';else throw'puredom.LocalStorage :: Adapter "'+b+'" attempted to register, but does not provide a save() method.';};window.puredom=window.puredom||{};
puredom.date={now:Date.now?function(){return Date.now()}:function(){return+new Date},create:function(b){b?(b=(b+"").replace(/^([0-9]{4})\-([0-9]{2})\-([0-9]{2})T([0-9]{2})\:([0-9]{2})\:([0-9]{2})\.[0-9]{3}Z$/,"$1/$2/$3 $4:$5:$6"),b=new Date(b)):b=new Date;return b},parse:function(b,g){var d,e,i,k,l;function h(a,b){if(b===false||b===true)d=b===true;if(a||a===0)e=a;a=e;e<12&&d&&(a-=12);var c=m.getDate();e===12&&d===false?(m.getHours()!==0||b===!!b)&&m.setHours(0):(m.setHours(a),m.setDate(c))}var g=
g||"%d/%m/%Y",m=new Date(0);d=void 0;e=void 0;i=void 0;k=void 0;l=void 0;var n={H:[/^[0-9]{1,2}/g,function(a){a=Math.round(a);h(a)}],I:[/^[0-9]{1,2}/g,function(a){a=Math.round(a);h(a)}],p:[/^[AP]M/gi,function(a){h(null,a.toLowerCase()==="pm")}],M:[/^[0-9]{1,2}/g,function(a){m.setMinutes(Math.round(a))}],a:[/^(Mon|Tue(s?)|Wed|Thu|Fri|Sat|Sun)/i,function(){}],A:[/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday)/i,function(){}],d:[/^[0-9]{1,2}/g,function(a){i=Math.round(a);m.setDate(i)}],
m:[/^[0-9]{1,2}/g,function(a){k=Math.round(a)-1;m.setMonth(k)}],B:[RegExp("^("+this.months.join("|")+")","gi"),function(a){k=date._getMonthIndex(a);m.setMonth(k)}],b:[/^(Jan|Feb|Mar|Apr|May|Jun(e?)|Jul(y?)|Aug|Sep(t?)|Oct|Nov|Dec)/gi,function(a){k=date._getMonthIndex(a);m.setMonth(k)}],y:[/^[0-9]{2}/g,function(a){a=Math.round(a)+1900;a<1950&&(a+=100);m.setFullYear(a)}],Y:[/^[0-9]{4}/g,function(a){l=Math.round(a);m.setFullYear(l)}]},a,f,c;n.l=n.I;n.e=n.d;n.P=n.p;n.h=n.b;for(a=0;a<g.length;a++)if(g.charAt(a)===
"%")for(c in f=null,b.charAt(0)===" "&&g.charAt(a)==="%"&&(b=b.substring(1)),n){if(n.hasOwnProperty(c)&&g.substring(a+1,a+1+c.length)===c){f=n[c];b=b.replace(f[0],function(a){f[1](a);return""});a+=f.length-1;break}}else b.charAt(0)===g.charAt(a)&&(b=b.substring(1));(k||k===0)&&m.setMonth(k);(l||l===0)&&m.setFullYear(l);return m},unformat:function(){return this.parse.apply(this,arguments)},format:function(b,g){g=g||"%d/%m/%Y";if(!b||b.constructor!==Date||!b.toDateString)return false;var d=b.toDateString();
if(!d||d.toLowerCase()==="invalid date")return false;if(d==="NaN")return false;var d=d.split(" "),e=b.getHours(),i=(e+11)%12+1,k=b.getMonth()+1,l={H:e,I:(i<10?"0":"")+i,l:i,p:e>11?"PM":"AM",P:e>11?"pm":"am",M:(b.getMinutes()<10?"0":"")+b.getMinutes(),S:(b.getSeconds()<10?"0":"")+b.getSeconds(),a:d[0],A:this.weekdays[b.getDay()],d:d[2],e:Math.round(d[2]),m:(k<10?"0":"")+k,B:this.months[Math.round(d[1])],b:d[1],h:d[1],y:d[3].substring(2),Y:d[3]};return g.replace(/%[HIlpPMSaAdemBbhyY]/gm,function(b){var d=
l[b.charAt(1)+""];return d||d===0||d===false?d:b})},_getMonthIndex:function(b){for(var b=b.substring(0,3).toLowerCase(),g=0;g<this.months.length;g++)if(this.months[g].substring(0,3).toLowerCase()===b)return g;return-1},weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),months:"January,February,March,April,May,June,July,August,September,October,November,December".split(",")};
puredom.LocalStorage.addAdapter("UserData",{defaultName:"db",rating:20,test:function(){return/\bMSIE\s[1-6](\.[0-9]*)?/gim.test(navigator.userAgent+"")?false:typeof document.body.addBehavior!=="undefined"},load:function(b,g){var d=this._getStore(this._getKey(b)),e,i;d&&(e=d.getAttribute("puredomlocalstorage"));e&&(i=puredom.json.parse(e));g&&g(i);return i},save:function(b,g,d){var b=this._getKey(b),e=this._getStore(b),i=false;e&&"save"in e&&(g===void 0?e.removeAttribute?e.removeAttribute("puredomlocalstorage"):
e.setAttribute("puredomlocalstorage",""):e.setAttribute("puredomlocalstorage",puredom.json.stringify(g)),e.save(b),i=true);d&&d(i);return i},_getStore:function(b){var g;if(!this.stores)this.stores={};g=this.stores[b];if(!g&&(g=this.stores[b]=document.getElementById(b),!g))g=this.stores[b]=document.createElement("span"),g.style.position="absolute",g.style.top="-100px",g.style.left="0",g.style.behavior="url('#default#userData')",document.body.appendChild(g);g.getAttribute("data-tdlsud-loaded")!=="true"&&
(g.setAttribute("data-tdlsud-loaded","true"),g.load(b));return g},_getKey:function(b){return"ieud"+(b.id||this.defaultName||"")+""}});
puredom.LocalStorage.addAdapter("LocalStorage",{defaultName:"db",rating:60,test:function(){var b="localStorage"in window&&typeof window.localStorage.hasOwnProperty==="function",g,d=puredom.json({a:"a",b:4/3,c:true,d:null});if(b)try{g=localStorage.__test,localStorage.__test=d,localStorage.__test!==d&&(b=false),localStorage.__test=g,g===void 0&&delete localStorage.__test}catch(e){b=false}return b},load:function(b,g){var d=this._getKey(b),e;localStorage.hasOwnProperty(d)&&(e=puredom.json.parse(localStorage[d]));
g&&g(e);return e},save:function(b,g,d){b=this._getKey(b);g===void 0?delete localStorage[b]:localStorage[b]=puredom.json.stringify(g);d&&d(true);return true},_getKey:function(b){return(b.id||this.defaultName||"")+""}});
puredom.LocalStorage.addAdapter("cookie",{defaultName:"db",rating:0,test:function(){return puredom.cookies&&puredom.cookies.get&&"cookie"in document?true:false},load:function(b,g){var d=puredom.cookies.get(b.id||this.defaultName),e;d&&(e=puredom.json(d));g&&g(e);return e},save:function(b,g,d){puredom.cookies.set(b.id||this.defaultName,puredom.json(g));d&&d(true)}});